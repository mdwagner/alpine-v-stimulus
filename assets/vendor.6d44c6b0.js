var _r=Object.defineProperty,hr=Object.defineProperties;var cr=Object.getOwnPropertyDescriptors;var En=Object.getOwnPropertySymbols;var fr=Object.prototype.hasOwnProperty,pr=Object.prototype.propertyIsEnumerable;var On=(t,e,i)=>e in t?_r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,De=(t,e)=>{for(var i in e||(e={}))fr.call(e,i)&&On(t,i,e[i]);if(En)for(var i of En(e))pr.call(e,i)&&On(t,i,e[i]);return t},An=(t,e)=>hr(t,cr(e));function dr(t,e){return e.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(n){if(n!=="default"&&!(n in t)){var s=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return i[n]}})}})}),Object.freeze(t)}var gr=Object.create,xi=Object.defineProperty,mr=Object.getPrototypeOf,br=Object.prototype.hasOwnProperty,vr=Object.getOwnPropertyNames,yr=Object.getOwnPropertyDescriptor,wr=t=>xi(t,"__esModule",{value:!0}),je=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports),xr=(t,e,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of vr(e))!br.call(t,n)&&n!=="default"&&xi(t,n,{get:()=>e[n],enumerable:!(i=yr(e,n))||i.enumerable});return t},Er=t=>xr(wr(xi(t!=null?gr(mr(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Or=je(t=>{Object.defineProperty(t,"__esModule",{value:!0});function e(_,d){const g=Object.create(null),E=_.split(",");for(let k=0;k<E.length;k++)g[E[k]]=!0;return d?k=>!!g[k.toLowerCase()]:k=>!!g[k]}var i={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},n={[1]:"STABLE",[2]:"DYNAMIC",[3]:"FORWARDED"},s="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",r=e(s),o=2;function u(_,d=0,g=_.length){const E=_.split(/\r?\n/);let k=0;const K=[];for(let F=0;F<E.length;F++)if(k+=E[F].length+1,k>=d){for(let et=F-o;et<=F+o||g>k;et++){if(et<0||et>=E.length)continue;const bt=et+1;K.push(`${bt}${" ".repeat(Math.max(3-String(bt).length,0))}|  ${E[et]}`);const Ut=E[et].length;if(et===F){const Wt=d-(k-Ut)+1,yi=Math.max(1,g>k?Ut-Wt:g-d);K.push("   |  "+" ".repeat(Wt)+"^".repeat(yi))}else if(et>F){if(g>k){const Wt=Math.max(Math.min(g-k,Ut),1);K.push("   |  "+"^".repeat(Wt))}k+=Ut+1}}break}return K.join(`
`)}var h="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",p=e(h),v=e(h+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),O=/[>/="'\u0009\u000a\u000c\u0020]/,P={};function j(_){if(P.hasOwnProperty(_))return P[_];const d=O.test(_);return d&&console.error(`unsafe attribute name: ${_}`),P[_]=!d}var q={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},$=e("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),y=e("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap");function L(_){if(ut(_)){const d={};for(let g=0;g<_.length;g++){const E=_[g],k=L(mt(E)?J(E):E);if(k)for(const K in k)d[K]=k[K]}return d}else if(it(_))return _}var T=/;(?![^(]*\))/g,M=/:(.+)/;function J(_){const d={};return _.split(T).forEach(g=>{if(g){const E=g.split(M);E.length>1&&(d[E[0].trim()]=E[1].trim())}}),d}function ot(_){let d="";if(!_)return d;for(const g in _){const E=_[g],k=g.startsWith("--")?g:St(g);(mt(E)||typeof E=="number"&&$(k))&&(d+=`${k}:${E};`)}return d}function dt(_){let d="";if(mt(_))d=_;else if(ut(_))for(let g=0;g<_.length;g++){const E=dt(_[g]);E&&(d+=E+" ")}else if(it(_))for(const g in _)_[g]&&(d+=g+" ");return d.trim()}var si="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",ri="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",ai="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",Lt=e(si),Pt=e(ri),oi=e(ai),ui=/["'&<>]/;function Ae(_){const d=""+_,g=ui.exec(d);if(!g)return d;let E="",k,K,F=0;for(K=g.index;K<d.length;K++){switch(d.charCodeAt(K)){case 34:k="&quot;";break;case 38:k="&amp;";break;case 39:k="&#39;";break;case 60:k="&lt;";break;case 62:k="&gt;";break;default:continue}F!==K&&(E+=d.substring(F,K)),F=K+1,E+=k}return F!==K?E+d.substring(F,K):E}var li=/^-?>|<!--|-->|--!>|<!-$/g;function _i(_){return _.replace(li,"")}function hi(_,d){if(_.length!==d.length)return!1;let g=!0;for(let E=0;g&&E<_.length;E++)g=Ot(_[E],d[E]);return g}function Ot(_,d){if(_===d)return!0;let g=Kt(_),E=Kt(d);if(g||E)return g&&E?_.getTime()===d.getTime():!1;if(g=ut(_),E=ut(d),g||E)return g&&E?hi(_,d):!1;if(g=it(_),E=it(d),g||E){if(!g||!E)return!1;const k=Object.keys(_).length,K=Object.keys(d).length;if(k!==K)return!1;for(const F in _){const et=_.hasOwnProperty(F),bt=d.hasOwnProperty(F);if(et&&!bt||!et&&bt||!Ot(_[F],d[F]))return!1}}return String(_)===String(d)}function Te(_,d){return _.findIndex(g=>Ot(g,d))}var ci=_=>_==null?"":it(_)?JSON.stringify(_,fi,2):String(_),fi=(_,d)=>lt(d)?{[`Map(${d.size})`]:[...d.entries()].reduce((g,[E,k])=>(g[`${E} =>`]=k,g),{})}:ne(d)?{[`Set(${d.size})`]:[...d.values()]}:it(d)&&!ut(d)&&!se(d)?String(d):d,te=["bigInt","optionalChaining","nullishCoalescingOperator"],ee=Object.freeze({}),ie=Object.freeze([]),Bt=()=>{},Dt=()=>!1,jt=/^on[^a-z]/,It=_=>jt.test(_),Se=_=>_.startsWith("onUpdate:"),ke=Object.assign,Re=(_,d)=>{const g=_.indexOf(d);g>-1&&_.splice(g,1)},Ce=Object.prototype.hasOwnProperty,$t=(_,d)=>Ce.call(_,d),ut=Array.isArray,lt=_=>At(_)==="[object Map]",ne=_=>At(_)==="[object Set]",Kt=_=>_ instanceof Date,Ft=_=>typeof _=="function",mt=_=>typeof _=="string",pi=_=>typeof _=="symbol",it=_=>_!==null&&typeof _=="object",di=_=>it(_)&&Ft(_.then)&&Ft(_.catch),Ne=Object.prototype.toString,At=_=>Ne.call(_),gi=_=>At(_).slice(8,-1),se=_=>At(_)==="[object Object]",Me=_=>mt(_)&&_!=="NaN"&&_[0]!=="-"&&""+parseInt(_,10)===_,Le=e(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tt=_=>{const d=Object.create(null);return g=>d[g]||(d[g]=_(g))},Pe=/-(\w)/g,mi=Tt(_=>_.replace(Pe,(d,g)=>g?g.toUpperCase():"")),bi=/\B([A-Z])/g,St=Tt(_=>_.replace(bi,"-$1").toLowerCase()),Be=Tt(_=>_.charAt(0).toUpperCase()+_.slice(1)),re=Tt(_=>_?`on${Be(_)}`:""),vi=(_,d)=>_!==d&&(_===_||d===d),zt=(_,d)=>{for(let g=0;g<_.length;g++)_[g](d)},Vt=(_,d,g)=>{Object.defineProperty(_,d,{configurable:!0,enumerable:!1,value:g})},ae=_=>{const d=parseFloat(_);return isNaN(d)?_:d},oe,C=()=>oe||(oe=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});t.EMPTY_ARR=ie,t.EMPTY_OBJ=ee,t.NO=Dt,t.NOOP=Bt,t.PatchFlagNames=i,t.babelParserDefaultPlugins=te,t.camelize=mi,t.capitalize=Be,t.def=Vt,t.escapeHtml=Ae,t.escapeHtmlComment=_i,t.extend=ke,t.generateCodeFrame=u,t.getGlobalThis=C,t.hasChanged=vi,t.hasOwn=$t,t.hyphenate=St,t.invokeArrayFns=zt,t.isArray=ut,t.isBooleanAttr=v,t.isDate=Kt,t.isFunction=Ft,t.isGloballyWhitelisted=r,t.isHTMLTag=Lt,t.isIntegerKey=Me,t.isKnownAttr=y,t.isMap=lt,t.isModelListener=Se,t.isNoUnitNumericStyleProp=$,t.isObject=it,t.isOn=It,t.isPlainObject=se,t.isPromise=di,t.isReservedProp=Le,t.isSSRSafeAttrName=j,t.isSVGTag=Pt,t.isSet=ne,t.isSpecialBooleanAttr=p,t.isString=mt,t.isSymbol=pi,t.isVoidTag=oi,t.looseEqual=Ot,t.looseIndexOf=Te,t.makeMap=e,t.normalizeClass=dt,t.normalizeStyle=L,t.objectToString=Ne,t.parseStringStyle=J,t.propsToAttrMap=q,t.remove=Re,t.slotFlagsText=n,t.stringifyStyle=ot,t.toDisplayString=ci,t.toHandlerKey=re,t.toNumber=ae,t.toRawType=gi,t.toTypeString=At}),Ar=je((t,e)=>{e.exports=Or()}),Tr=je(t=>{Object.defineProperty(t,"__esModule",{value:!0});var e=Ar(),i=new WeakMap,n=[],s,r=Symbol("iterate"),o=Symbol("Map key iterate");function u(a){return a&&a._isEffect===!0}function h(a,c=e.EMPTY_OBJ){u(a)&&(a=a.raw);const f=O(a,c);return c.lazy||f(),f}function p(a){a.active&&(P(a),a.options.onStop&&a.options.onStop(),a.active=!1)}var v=0;function O(a,c){const f=function(){if(!f.active)return a();if(!n.includes(f)){P(f);try{return y(),n.push(f),s=f,a()}finally{n.pop(),L(),s=n[n.length-1]}}};return f.id=v++,f.allowRecurse=!!c.allowRecurse,f._isEffect=!0,f.active=!0,f.raw=a,f.deps=[],f.options=c,f}function P(a){const{deps:c}=a;if(c.length){for(let f=0;f<c.length;f++)c[f].delete(a);c.length=0}}var j=!0,q=[];function $(){q.push(j),j=!1}function y(){q.push(j),j=!0}function L(){const a=q.pop();j=a===void 0?!0:a}function T(a,c,f){if(!j||s===void 0)return;let b=i.get(a);b||i.set(a,b=new Map);let m=b.get(f);m||b.set(f,m=new Set),m.has(s)||(m.add(s),s.deps.push(m),s.options.onTrack&&s.options.onTrack({effect:s,target:a,type:c,key:f}))}function M(a,c,f,b,m,R){const A=i.get(a);if(!A)return;const I=new Set,X=V=>{V&&V.forEach(_t=>{(_t!==s||_t.allowRecurse)&&I.add(_t)})};if(c==="clear")A.forEach(X);else if(f==="length"&&e.isArray(a))A.forEach((V,_t)=>{(_t==="length"||_t>=b)&&X(V)});else switch(f!==void 0&&X(A.get(f)),c){case"add":e.isArray(a)?e.isIntegerKey(f)&&X(A.get("length")):(X(A.get(r)),e.isMap(a)&&X(A.get(o)));break;case"delete":e.isArray(a)||(X(A.get(r)),e.isMap(a)&&X(A.get(o)));break;case"set":e.isMap(a)&&X(A.get(r));break}const ue=V=>{V.options.onTrigger&&V.options.onTrigger({effect:V,target:a,key:f,type:c,newValue:b,oldValue:m,oldTarget:R}),V.options.scheduler?V.options.scheduler(V):V()};I.forEach(ue)}var J=e.makeMap("__proto__,__v_isRef,__isVue"),ot=new Set(Object.getOwnPropertyNames(Symbol).map(a=>Symbol[a]).filter(e.isSymbol)),dt=Pt(),si=Pt(!1,!0),ri=Pt(!0),ai=Pt(!0,!0),Lt={};["includes","indexOf","lastIndexOf"].forEach(a=>{const c=Array.prototype[a];Lt[a]=function(...f){const b=C(this);for(let R=0,A=this.length;R<A;R++)T(b,"get",R+"");const m=c.apply(b,f);return m===-1||m===!1?c.apply(b,f.map(C)):m}}),["push","pop","shift","unshift","splice"].forEach(a=>{const c=Array.prototype[a];Lt[a]=function(...f){$();const b=c.apply(this,f);return L(),b}});function Pt(a=!1,c=!1){return function(b,m,R){if(m==="__v_isReactive")return!a;if(m==="__v_isReadonly")return a;if(m==="__v_raw"&&R===(a?c?Pe:Tt:c?Le:Me).get(b))return b;const A=e.isArray(b);if(!a&&A&&e.hasOwn(Lt,m))return Reflect.get(Lt,m,R);const I=Reflect.get(b,m,R);return(e.isSymbol(m)?ot.has(m):J(m))||(a||T(b,"get",m),c)?I:g(I)?!A||!e.isIntegerKey(m)?I.value:I:e.isObject(I)?a?re(I):St(I):I}}var oi=Ae(),ui=Ae(!0);function Ae(a=!1){return function(f,b,m,R){let A=f[b];if(!a&&(m=C(m),A=C(A),!e.isArray(f)&&g(A)&&!g(m)))return A.value=m,!0;const I=e.isArray(f)&&e.isIntegerKey(b)?Number(b)<f.length:e.hasOwn(f,b),X=Reflect.set(f,b,m,R);return f===C(R)&&(I?e.hasChanged(m,A)&&M(f,"set",b,m,A):M(f,"add",b,m)),X}}function li(a,c){const f=e.hasOwn(a,c),b=a[c],m=Reflect.deleteProperty(a,c);return m&&f&&M(a,"delete",c,void 0,b),m}function _i(a,c){const f=Reflect.has(a,c);return(!e.isSymbol(c)||!ot.has(c))&&T(a,"has",c),f}function hi(a){return T(a,"iterate",e.isArray(a)?"length":r),Reflect.ownKeys(a)}var Ot={get:dt,set:oi,deleteProperty:li,has:_i,ownKeys:hi},Te={get:ri,set(a,c){return console.warn(`Set operation on key "${String(c)}" failed: target is readonly.`,a),!0},deleteProperty(a,c){return console.warn(`Delete operation on key "${String(c)}" failed: target is readonly.`,a),!0}},ci=e.extend({},Ot,{get:si,set:ui}),fi=e.extend({},Te,{get:ai}),te=a=>e.isObject(a)?St(a):a,ee=a=>e.isObject(a)?re(a):a,ie=a=>a,Bt=a=>Reflect.getPrototypeOf(a);function Dt(a,c,f=!1,b=!1){a=a.__v_raw;const m=C(a),R=C(c);c!==R&&!f&&T(m,"get",c),!f&&T(m,"get",R);const{has:A}=Bt(m),I=b?ie:f?ee:te;if(A.call(m,c))return I(a.get(c));if(A.call(m,R))return I(a.get(R));a!==m&&a.get(c)}function jt(a,c=!1){const f=this.__v_raw,b=C(f),m=C(a);return a!==m&&!c&&T(b,"has",a),!c&&T(b,"has",m),a===m?f.has(a):f.has(a)||f.has(m)}function It(a,c=!1){return a=a.__v_raw,!c&&T(C(a),"iterate",r),Reflect.get(a,"size",a)}function Se(a){a=C(a);const c=C(this);return Bt(c).has.call(c,a)||(c.add(a),M(c,"add",a,a)),this}function ke(a,c){c=C(c);const f=C(this),{has:b,get:m}=Bt(f);let R=b.call(f,a);R?se(f,b,a):(a=C(a),R=b.call(f,a));const A=m.call(f,a);return f.set(a,c),R?e.hasChanged(c,A)&&M(f,"set",a,c,A):M(f,"add",a,c),this}function Re(a){const c=C(this),{has:f,get:b}=Bt(c);let m=f.call(c,a);m?se(c,f,a):(a=C(a),m=f.call(c,a));const R=b?b.call(c,a):void 0,A=c.delete(a);return m&&M(c,"delete",a,void 0,R),A}function Ce(){const a=C(this),c=a.size!==0,f=e.isMap(a)?new Map(a):new Set(a),b=a.clear();return c&&M(a,"clear",void 0,void 0,f),b}function $t(a,c){return function(b,m){const R=this,A=R.__v_raw,I=C(A),X=c?ie:a?ee:te;return!a&&T(I,"iterate",r),A.forEach((ue,V)=>b.call(m,X(ue),X(V),R))}}function ut(a,c,f){return function(...b){const m=this.__v_raw,R=C(m),A=e.isMap(R),I=a==="entries"||a===Symbol.iterator&&A,X=a==="keys"&&A,ue=m[a](...b),V=f?ie:c?ee:te;return!c&&T(R,"iterate",X?o:r),{next(){const{value:_t,done:wi}=ue.next();return wi?{value:_t,done:wi}:{value:I?[V(_t[0]),V(_t[1])]:V(_t),done:wi}},[Symbol.iterator](){return this}}}}function lt(a){return function(...c){{const f=c[0]?`on key "${c[0]}" `:"";console.warn(`${e.capitalize(a)} operation ${f}failed: target is readonly.`,C(this))}return a==="delete"?!1:this}}var ne={get(a){return Dt(this,a)},get size(){return It(this)},has:jt,add:Se,set:ke,delete:Re,clear:Ce,forEach:$t(!1,!1)},Kt={get(a){return Dt(this,a,!1,!0)},get size(){return It(this)},has:jt,add:Se,set:ke,delete:Re,clear:Ce,forEach:$t(!1,!0)},Ft={get(a){return Dt(this,a,!0)},get size(){return It(this,!0)},has(a){return jt.call(this,a,!0)},add:lt("add"),set:lt("set"),delete:lt("delete"),clear:lt("clear"),forEach:$t(!0,!1)},mt={get(a){return Dt(this,a,!0,!0)},get size(){return It(this,!0)},has(a){return jt.call(this,a,!0)},add:lt("add"),set:lt("set"),delete:lt("delete"),clear:lt("clear"),forEach:$t(!0,!0)},pi=["keys","values","entries",Symbol.iterator];pi.forEach(a=>{ne[a]=ut(a,!1,!1),Ft[a]=ut(a,!0,!1),Kt[a]=ut(a,!1,!0),mt[a]=ut(a,!0,!0)});function it(a,c){const f=c?a?mt:Kt:a?Ft:ne;return(b,m,R)=>m==="__v_isReactive"?!a:m==="__v_isReadonly"?a:m==="__v_raw"?b:Reflect.get(e.hasOwn(f,m)&&m in b?f:b,m,R)}var di={get:it(!1,!1)},Ne={get:it(!1,!0)},At={get:it(!0,!1)},gi={get:it(!0,!0)};function se(a,c,f){const b=C(f);if(b!==f&&c.call(a,b)){const m=e.toRawType(a);console.warn(`Reactive ${m} contains both the raw and reactive versions of the same object${m==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Me=new WeakMap,Le=new WeakMap,Tt=new WeakMap,Pe=new WeakMap;function mi(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bi(a){return a.__v_skip||!Object.isExtensible(a)?0:mi(e.toRawType(a))}function St(a){return a&&a.__v_isReadonly?a:zt(a,!1,Ot,di,Me)}function Be(a){return zt(a,!1,ci,Ne,Le)}function re(a){return zt(a,!0,Te,At,Tt)}function vi(a){return zt(a,!0,fi,gi,Pe)}function zt(a,c,f,b,m){if(!e.isObject(a))return console.warn(`value cannot be made reactive: ${String(a)}`),a;if(a.__v_raw&&!(c&&a.__v_isReactive))return a;const R=m.get(a);if(R)return R;const A=bi(a);if(A===0)return a;const I=new Proxy(a,A===2?b:f);return m.set(a,I),I}function Vt(a){return ae(a)?Vt(a.__v_raw):!!(a&&a.__v_isReactive)}function ae(a){return!!(a&&a.__v_isReadonly)}function oe(a){return Vt(a)||ae(a)}function C(a){return a&&C(a.__v_raw)||a}function _(a){return e.def(a,"__v_skip",!0),a}var d=a=>e.isObject(a)?St(a):a;function g(a){return Boolean(a&&a.__v_isRef===!0)}function E(a){return F(a)}function k(a){return F(a,!0)}var K=class{constructor(a,c=!1){this._rawValue=a,this._shallow=c,this.__v_isRef=!0,this._value=c?a:d(a)}get value(){return T(C(this),"get","value"),this._value}set value(a){e.hasChanged(C(a),this._rawValue)&&(this._rawValue=a,this._value=this._shallow?a:d(a),M(C(this),"set","value",a))}};function F(a,c=!1){return g(a)?a:new K(a,c)}function et(a){M(C(a),"set","value",a.value)}function bt(a){return g(a)?a.value:a}var Ut={get:(a,c,f)=>bt(Reflect.get(a,c,f)),set:(a,c,f,b)=>{const m=a[c];return g(m)&&!g(f)?(m.value=f,!0):Reflect.set(a,c,f,b)}};function Wt(a){return Vt(a)?a:new Proxy(a,Ut)}var yi=class{constructor(a){this.__v_isRef=!0;const{get:c,set:f}=a(()=>T(this,"get","value"),()=>M(this,"set","value"));this._get=c,this._set=f}get value(){return this._get()}set value(a){this._set(a)}};function rr(a){return new yi(a)}function ar(a){oe(a)||console.warn("toRefs() expects a reactive object but received a plain one.");const c=e.isArray(a)?new Array(a.length):{};for(const f in a)c[f]=xn(a,f);return c}var or=class{constructor(a,c){this._object=a,this._key=c,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(a){this._object[this._key]=a}};function xn(a,c){return g(a[c])?a[c]:new or(a,c)}var ur=class{constructor(a,c,f){this._setter=c,this._dirty=!0,this.__v_isRef=!0,this.effect=h(a,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,M(C(this),"set","value"))}}),this.__v_isReadonly=f}get value(){const a=C(this);return a._dirty&&(a._value=this.effect(),a._dirty=!1),T(a,"get","value"),a._value}set value(a){this._setter(a)}};function lr(a){let c,f;return e.isFunction(a)?(c=a,f=()=>{console.warn("Write operation failed: computed value is readonly")}):(c=a.get,f=a.set),new ur(c,f,e.isFunction(a)||!a.set)}t.ITERATE_KEY=r,t.computed=lr,t.customRef=rr,t.effect=h,t.enableTracking=y,t.isProxy=oe,t.isReactive=Vt,t.isReadonly=ae,t.isRef=g,t.markRaw=_,t.pauseTracking=$,t.proxyRefs=Wt,t.reactive=St,t.readonly=re,t.ref=E,t.resetTracking=L,t.shallowReactive=Be,t.shallowReadonly=vi,t.shallowRef=k,t.stop=p,t.toRaw=C,t.toRef=xn,t.toRefs=ar,t.track=T,t.trigger=M,t.triggerRef=et,t.unref=bt}),Sr=je((t,e)=>{e.exports=Tr()}),Ei=!1,Oi=!1,le=[];function kr(t){Rr(t)}function Rr(t){le.includes(t)||le.push(t),Cr()}function Cr(){!Oi&&!Ei&&(Ei=!0,queueMicrotask(Nr))}function Nr(){Ei=!1,Oi=!0;for(let t=0;t<le.length;t++)le[t]();le.length=0,Oi=!1}var Gt,qt,Ie,Tn,Ai=!0;function Mr(t){Ai=!1,t(),Ai=!0}function Lr(t){Gt=t.reactive,Ie=t.release,qt=e=>t.effect(e,{scheduler:i=>{Ai?kr(i):i()}}),Tn=t.raw}function Sn(t){qt=t}function Pr(t){let e=()=>{};return[n=>{let s=qt(n);t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(r=>r())}),t._x_effects.add(s),e=()=>{s!==void 0&&(t._x_effects.delete(s),Ie(s))}},()=>{e()}]}var kn=[],Rn=[],Cn=[];function Br(t){Cn.push(t)}function Dr(t){Rn.push(t)}function jr(t){kn.push(t)}function Ir(t,e,i){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[e]||(t._x_attributeCleanups[e]=[]),t._x_attributeCleanups[e].push(i)}function Nn(t,e){!t._x_attributeCleanups||Object.entries(t._x_attributeCleanups).forEach(([i,n])=>{(e===void 0||e.includes(i))&&(n.forEach(s=>s()),delete t._x_attributeCleanups[i])})}var Ti=new MutationObserver(Ci),Si=!1;function Mn(){Ti.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Si=!0}function $r(){Kr(),Ti.disconnect(),Si=!1}var _e=[],ki=!1;function Kr(){_e=_e.concat(Ti.takeRecords()),_e.length&&!ki&&(ki=!0,queueMicrotask(()=>{Fr(),ki=!1}))}function Fr(){Ci(_e),_e.length=0}function H(t){if(!Si)return t();$r();let e=t();return Mn(),e}var Ri=!1,$e=[];function zr(){Ri=!0}function Vr(){Ri=!1,Ci($e),$e=[]}function Ci(t){if(Ri){$e=$e.concat(t);return}let e=[],i=[],n=new Map,s=new Map;for(let r=0;r<t.length;r++)if(!t[r].target._x_ignoreMutationObserver&&(t[r].type==="childList"&&(t[r].addedNodes.forEach(o=>o.nodeType===1&&e.push(o)),t[r].removedNodes.forEach(o=>o.nodeType===1&&i.push(o))),t[r].type==="attributes")){let o=t[r].target,u=t[r].attributeName,h=t[r].oldValue,p=()=>{n.has(o)||n.set(o,[]),n.get(o).push({name:u,value:o.getAttribute(u)})},v=()=>{s.has(o)||s.set(o,[]),s.get(o).push(u)};o.hasAttribute(u)&&h===null?p():o.hasAttribute(u)?(v(),p()):v()}s.forEach((r,o)=>{Nn(o,r)}),n.forEach((r,o)=>{kn.forEach(u=>u(o,r))});for(let r of i)e.includes(r)||Rn.forEach(o=>o(r));e.forEach(r=>{r._x_ignoreSelf=!0,r._x_ignore=!0});for(let r of e)i.includes(r)||!r.isConnected||(delete r._x_ignoreSelf,delete r._x_ignore,Cn.forEach(o=>o(r)),r._x_ignore=!0,r._x_ignoreSelf=!0);e.forEach(r=>{delete r._x_ignoreSelf,delete r._x_ignore}),e=null,i=null,n=null,s=null}function Ln(t){return ce(Xt(t))}function he(t,e,i){return t._x_dataStack=[e,...Xt(i||t)],()=>{t._x_dataStack=t._x_dataStack.filter(n=>n!==e)}}function Pn(t,e){let i=t._x_dataStack[0];Object.entries(e).forEach(([n,s])=>{i[n]=s})}function Xt(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Xt(t.host):t.parentNode?Xt(t.parentNode):[]}function ce(t){let e=new Proxy({},{ownKeys:()=>Array.from(new Set(t.flatMap(i=>Object.keys(i)))),has:(i,n)=>t.some(s=>s.hasOwnProperty(n)),get:(i,n)=>(t.find(s=>{if(s.hasOwnProperty(n)){let r=Object.getOwnPropertyDescriptor(s,n);if(r.get&&r.get._x_alreadyBound||r.set&&r.set._x_alreadyBound)return!0;if((r.get||r.set)&&r.enumerable){let o=r.get,u=r.set,h=r;o=o&&o.bind(e),u=u&&u.bind(e),o&&(o._x_alreadyBound=!0),u&&(u._x_alreadyBound=!0),Object.defineProperty(s,n,An(De({},h),{get:o,set:u}))}return!0}return!1})||{})[n],set:(i,n,s)=>{let r=t.find(o=>o.hasOwnProperty(n));return r?r[n]=s:t[t.length-1][n]=s,!0}});return e}function Bn(t){let e=n=>typeof n=="object"&&!Array.isArray(n)&&n!==null,i=(n,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([r,{value:o,enumerable:u}])=>{if(u===!1||o===void 0)return;let h=s===""?r:`${s}.${r}`;typeof o=="object"&&o!==null&&o._x_interceptor?n[r]=o.initialize(t,h,r):e(o)&&o!==n&&!(o instanceof Element)&&i(o,h)})};return i(t)}function Dn(t,e=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(n,s,r){return t(this.initialValue,()=>Ur(n,s),o=>Ni(n,s,o),s,r)}};return e(i),n=>{if(typeof n=="object"&&n!==null&&n._x_interceptor){let s=i.initialize.bind(i);i.initialize=(r,o,u)=>{let h=n.initialize(r,o,u);return i.initialValue=h,s(r,o,u)}}else i.initialValue=n;return i}}function Ur(t,e){return e.split(".").reduce((i,n)=>i[n],t)}function Ni(t,e,i){if(typeof e=="string"&&(e=e.split(".")),e.length===1)t[e[0]]=i;else{if(e.length===0)throw error;return t[e[0]]||(t[e[0]]={}),Ni(t[e[0]],e.slice(1),i)}}var jn={};function ct(t,e){jn[t]=e}function Mi(t,e){return Object.entries(jn).forEach(([i,n])=>{Object.defineProperty(t,`$${i}`,{get(){return n(e,{Alpine:Yt,interceptor:Dn})},enumerable:!1})}),t}function Wr(t,e,i,...n){try{return i(...n)}catch(s){fe(s,t,e)}}function fe(t,e,i=void 0){Object.assign(t,{el:e,expression:i}),console.warn(`Alpine Expression Error: ${t.message}

${i?'Expression: "'+i+`"

`:""}`,e),setTimeout(()=>{throw t},0)}function vt(t,e,i={}){let n;return Z(t,e)(s=>n=s,i),n}function Z(...t){return In(...t)}var In=$n;function Gr(t){In=t}function $n(t,e){let i={};Mi(i,t);let n=[i,...Xt(t)];if(typeof e=="function")return qr(n,e);let s=Hr(n,e,t);return Wr.bind(null,t,e,s)}function qr(t,e){return(i=()=>{},{scope:n={},params:s=[]}={})=>{let r=e.apply(ce([n,...t]),s);Ke(i,r)}}var Li={};function Xr(t,e){if(Li[t])return Li[t];let i=Object.getPrototypeOf(async function(){}).constructor,n=/^[\n\s]*if.*\(.*\)/.test(t)||/^(let|const)\s/.test(t)?`(() => { ${t} })()`:t,r=(()=>{try{return new i(["__self","scope"],`with (scope) { __self.result = ${n} }; __self.finished = true; return __self.result;`)}catch(o){return fe(o,e,t),Promise.resolve()}})();return Li[t]=r,r}function Hr(t,e,i){let n=Xr(e,i);return(s=()=>{},{scope:r={},params:o=[]}={})=>{n.result=void 0,n.finished=!1;let u=ce([r,...t]);if(typeof n=="function"){let h=n(n,u).catch(p=>fe(p,i,e));n.finished?(Ke(s,n.result,u,o,i),n.result=void 0):h.then(p=>{Ke(s,p,u,o,i)}).catch(p=>fe(p,i,e)).finally(()=>n.result=void 0)}}}function Ke(t,e,i,n,s){if(typeof e=="function"){let r=e.apply(i,n);r instanceof Promise?r.then(o=>Ke(t,o,i,n)).catch(o=>fe(o,s,e)):t(r)}else t(e)}var Pi="x-";function Ht(t=""){return Pi+t}function Qr(t){Pi=t}var Kn={};function U(t,e){Kn[t]=e}function Bi(t,e,i){let n={};return Array.from(e).map(Un((r,o)=>n[r]=o)).filter(Gn).map(ta(n,i)).sort(ea).map(r=>Zr(t,r))}function Yr(t){return Array.from(t).map(Un()).filter(e=>!Gn(e))}var Di=!1,pe=new Map,Fn=Symbol();function Jr(t){Di=!0;let e=Symbol();Fn=e,pe.set(e,[]);let i=()=>{for(;pe.get(e).length;)pe.get(e).shift()();pe.delete(e)},n=()=>{Di=!1,i()};t(i),n()}function Zr(t,e){let i=()=>{},n=Kn[e.type]||i,s=[],r=O=>s.push(O),[o,u]=Pr(t);s.push(u);let h={Alpine:Yt,effect:o,cleanup:r,evaluateLater:Z.bind(Z,t),evaluate:vt.bind(vt,t)},p=()=>s.forEach(O=>O());Ir(t,e.original,p);let v=()=>{t._x_ignore||t._x_ignoreSelf||(n.inline&&n.inline(t,e,h),n=n.bind(n,t,e,h),Di?pe.get(Fn).push(n):n())};return v.runCleanups=p,v}var zn=(t,e)=>({name:i,value:n})=>(i.startsWith(t)&&(i=i.replace(t,e)),{name:i,value:n}),Vn=t=>t;function Un(t=()=>{}){return({name:e,value:i})=>{let{name:n,value:s}=Wn.reduce((r,o)=>o(r),{name:e,value:i});return n!==e&&t(n,e),{name:n,value:s}}}var Wn=[];function ji(t){Wn.push(t)}function Gn({name:t}){return qn().test(t)}var qn=()=>new RegExp(`^${Pi}([^:^.]+)\\b`);function ta(t,e){return({name:i,value:n})=>{let s=i.match(qn()),r=i.match(/:([a-zA-Z0-9\-:]+)/),o=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],u=e||t[i]||i;return{type:s?s[1]:null,value:r?r[1]:null,modifiers:o.map(h=>h.replace(".","")),expression:n,original:u}}}var Ii="DEFAULT",Fe=["ignore","ref","data","id","bind","init","for","model","transition","show","if",Ii,"teleport","element"];function ea(t,e){let i=Fe.indexOf(t.type)===-1?Ii:t.type,n=Fe.indexOf(e.type)===-1?Ii:e.type;return Fe.indexOf(i)-Fe.indexOf(n)}function de(t,e,i={}){t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}var $i=[],Ki=!1;function Xn(t){$i.push(t),queueMicrotask(()=>{Ki||setTimeout(()=>{Fi()})})}function Fi(){for(Ki=!1;$i.length;)$i.shift()()}function ia(){Ki=!0}function Qt(t,e){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(s=>Qt(s,e));return}let i=!1;if(e(t,()=>i=!0),i)return;let n=t.firstElementChild;for(;n;)Qt(n,e),n=n.nextElementSibling}function ze(t,...e){console.warn(`Alpine Warning: ${t}`,...e)}function na(){document.body||ze("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),de(document,"alpine:init"),de(document,"alpine:initializing"),Mn(),Br(e=>kt(e,Qt)),Dr(e=>ra(e)),jr((e,i)=>{Bi(e,i).forEach(n=>n())});let t=e=>!Ve(e.parentElement,!0);Array.from(document.querySelectorAll(Yn())).filter(t).forEach(e=>{kt(e)}),de(document,"alpine:initialized")}var zi=[],Hn=[];function Qn(){return zi.map(t=>t())}function Yn(){return zi.concat(Hn).map(t=>t())}function Jn(t){zi.push(t)}function Zn(t){Hn.push(t)}function Ve(t,e=!1){return Ue(t,i=>{if((e?Yn():Qn()).some(s=>i.matches(s)))return!0})}function Ue(t,e){if(!!t){if(e(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Ue(t.parentElement,e)}}function sa(t){return Qn().some(e=>t.matches(e))}function kt(t,e=Qt){Jr(()=>{e(t,(i,n)=>{Bi(i,i.attributes).forEach(s=>s()),i._x_ignore&&n()})})}function ra(t){Qt(t,e=>Nn(e))}function Vi(t,e){return Array.isArray(e)?ts(t,e.join(" ")):typeof e=="object"&&e!==null?aa(t,e):typeof e=="function"?Vi(t,e()):ts(t,e)}function ts(t,e){let i=s=>s.split(" ").filter(r=>!t.classList.contains(r)).filter(Boolean),n=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return e=e===!0?e="":e||"",n(i(e))}function aa(t,e){let i=u=>u.split(" ").filter(Boolean),n=Object.entries(e).flatMap(([u,h])=>h?i(u):!1).filter(Boolean),s=Object.entries(e).flatMap(([u,h])=>h?!1:i(u)).filter(Boolean),r=[],o=[];return s.forEach(u=>{t.classList.contains(u)&&(t.classList.remove(u),o.push(u))}),n.forEach(u=>{t.classList.contains(u)||(t.classList.add(u),r.push(u))}),()=>{o.forEach(u=>t.classList.add(u)),r.forEach(u=>t.classList.remove(u))}}function We(t,e){return typeof e=="object"&&e!==null?oa(t,e):ua(t,e)}function oa(t,e){let i={};return Object.entries(e).forEach(([n,s])=>{i[n]=t.style[n],t.style.setProperty(la(n),s)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{We(t,i)}}function ua(t,e){let i=t.getAttribute("style",e);return t.setAttribute("style",e),()=>{t.setAttribute("style",i||"")}}function la(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ui(t,e=()=>{}){let i=!1;return function(){i?e.apply(this,arguments):(i=!0,t.apply(this,arguments))}}U("transition",(t,{value:e,modifiers:i,expression:n},{evaluate:s})=>{typeof n=="function"&&(n=s(n)),n?_a(t,n,e):ha(t,i,e)});function _a(t,e,i){es(t,Vi,""),{enter:s=>{t._x_transition.enter.during=s},"enter-start":s=>{t._x_transition.enter.start=s},"enter-end":s=>{t._x_transition.enter.end=s},leave:s=>{t._x_transition.leave.during=s},"leave-start":s=>{t._x_transition.leave.start=s},"leave-end":s=>{t._x_transition.leave.end=s}}[i](e)}function ha(t,e,i){es(t,We);let n=!e.includes("in")&&!e.includes("out")&&!i,s=n||e.includes("in")||["enter"].includes(i),r=n||e.includes("out")||["leave"].includes(i);e.includes("in")&&!n&&(e=e.filter((L,T)=>T<e.indexOf("out"))),e.includes("out")&&!n&&(e=e.filter((L,T)=>T>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),u=o||e.includes("opacity"),h=o||e.includes("scale"),p=u?0:1,v=h?ge(e,"scale",95)/100:1,O=ge(e,"delay",0),P=ge(e,"origin","center"),j="opacity, transform",q=ge(e,"duration",150)/1e3,$=ge(e,"duration",75)/1e3,y="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(t._x_transition.enter.during={transformOrigin:P,transitionDelay:O,transitionProperty:j,transitionDuration:`${q}s`,transitionTimingFunction:y},t._x_transition.enter.start={opacity:p,transform:`scale(${v})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),r&&(t._x_transition.leave.during={transformOrigin:P,transitionDelay:O,transitionProperty:j,transitionDuration:`${$}s`,transitionTimingFunction:y},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:p,transform:`scale(${v})`})}function es(t,e,i={}){t._x_transition||(t._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(n=()=>{},s=()=>{}){Wi(t,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,s)},out(n=()=>{},s=()=>{}){Wi(t,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,e,i,n){let s=()=>{document.visibilityState==="visible"?requestAnimationFrame(i):setTimeout(i)};if(e){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(i):s():t._x_transition?t._x_transition.in(i):s();return}t._x_hidePromise=t._x_transition?new Promise((r,o)=>{t._x_transition.out(()=>{},()=>r(n)),t._x_transitioning.beforeCancel(()=>o({isFromCancelledTransition:!0}))}):Promise.resolve(n),queueMicrotask(()=>{let r=is(t);r?(r._x_hideChildren||(r._x_hideChildren=[]),r._x_hideChildren.push(t)):queueMicrotask(()=>{let o=u=>{let h=Promise.all([u._x_hidePromise,...(u._x_hideChildren||[]).map(o)]).then(([p])=>p());return delete u._x_hidePromise,delete u._x_hideChildren,h};o(t).catch(u=>{if(!u.isFromCancelledTransition)throw u})})})};function is(t){let e=t.parentNode;if(!!e)return e._x_hidePromise?e:is(e)}function Wi(t,e,{during:i,start:n,end:s}={},r=()=>{},o=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(i).length===0&&Object.keys(n).length===0&&Object.keys(s).length===0){r(),o();return}let u,h,p;ca(t,{start(){u=e(t,n)},during(){h=e(t,i)},before:r,end(){u(),p=e(t,s)},after:o,cleanup(){h(),p()}})}function ca(t,e){let i,n,s,r=Ui(()=>{H(()=>{i=!0,n||e.before(),s||(e.end(),Fi()),e.after(),t.isConnected&&e.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:Ui(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();r()}),finish:r},H(()=>{e.start(),e.during()}),ia(),requestAnimationFrame(()=>{if(i)return;let o=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,u=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),H(()=>{e.before()}),n=!0,requestAnimationFrame(()=>{i||(H(()=>{e.end()}),Fi(),setTimeout(t._x_transitioning.finish,o+u),s=!0)})})}function ge(t,e,i){if(t.indexOf(e)===-1)return i;const n=t[t.indexOf(e)+1];if(!n||e==="scale"&&isNaN(n))return i;if(e==="duration"){let s=n.match(/([0-9]+)ms/);if(s)return s[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[n,t[t.indexOf(e)+2]].join(" "):n}var Gi=!1;function Ge(t,e=()=>{}){return(...i)=>Gi?e(...i):t(...i)}function fa(t,e){e._x_dataStack||(e._x_dataStack=t._x_dataStack),Gi=!0,da(()=>{pa(e)}),Gi=!1}function pa(t){let e=!1;kt(t,(n,s)=>{Qt(n,(r,o)=>{if(e&&sa(r))return o();e=!0,s(r,o)})})}function da(t){let e=qt;Sn((i,n)=>{let s=e(i);return Ie(s),()=>{}}),t(),Sn(e)}function ns(t,e,i,n=[]){switch(t._x_bindings||(t._x_bindings=Gt({})),t._x_bindings[e]=i,e=n.includes("camel")?xa(e):e,e){case"value":ga(t,i);break;case"style":ba(t,i);break;case"class":ma(t,i);break;default:va(t,e,i);break}}function ga(t,e){if(t.type==="radio")t.attributes.value===void 0&&(t.value=e),window.fromModel&&(t.checked=ss(t.value,e));else if(t.type==="checkbox")Number.isInteger(e)?t.value=e:!Number.isInteger(e)&&!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?t.value=String(e):Array.isArray(e)?t.checked=e.some(i=>ss(i,t.value)):t.checked=!!e;else if(t.tagName==="SELECT")wa(t,e);else{if(t.value===e)return;t.value=e}}function ma(t,e){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=Vi(t,e)}function ba(t,e){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=We(t,e)}function va(t,e,i){[null,void 0,!1].includes(i)&&Ea(e)?t.removeAttribute(e):(rs(e)&&(i=e),ya(t,e,i))}function ya(t,e,i){t.getAttribute(e)!=i&&t.setAttribute(e,i)}function wa(t,e){const i=[].concat(e).map(n=>n+"");Array.from(t.options).forEach(n=>{n.selected=i.includes(n.value)})}function xa(t){return t.toLowerCase().replace(/-(\w)/g,(e,i)=>i.toUpperCase())}function ss(t,e){return t==e}function rs(t){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function Ea(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function Oa(t,e,i){if(t._x_bindings&&t._x_bindings[e]!==void 0)return t._x_bindings[e];let n=t.getAttribute(e);return n===null?typeof i=="function"?i():i:rs(e)?!![e,"true"].includes(n):n===""?!0:n}function as(t,e){var i;return function(){var n=this,s=arguments,r=function(){i=null,t.apply(n,s)};clearTimeout(i),i=setTimeout(r,e)}}function os(t,e){let i;return function(){let n=this,s=arguments;i||(t.apply(n,s),i=!0,setTimeout(()=>i=!1,e))}}function Aa(t){t(Yt)}var Rt={},us=!1;function Ta(t,e){if(us||(Rt=Gt(Rt),us=!0),e===void 0)return Rt[t];Rt[t]=e,typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&Rt[t].init(),Bn(Rt[t])}function Sa(){return Rt}var ls={};function ka(t,e){ls[t]=typeof e!="function"?()=>e:e}function Ra(t){return Object.entries(ls).forEach(([e,i])=>{Object.defineProperty(t,e,{get(){return(...n)=>i(...n)}})}),t}var _s={};function Ca(t,e){_s[t]=e}function Na(t,e){return Object.entries(_s).forEach(([i,n])=>{Object.defineProperty(t,i,{get(){return(...s)=>n.bind(e)(...s)},enumerable:!1})}),t}var Ma={get reactive(){return Gt},get release(){return Ie},get effect(){return qt},get raw(){return Tn},version:"3.8.1",flushAndStopDeferringMutations:Vr,disableEffectScheduling:Mr,setReactivityEngine:Lr,closestDataStack:Xt,skipDuringClone:Ge,addRootSelector:Jn,addInitSelector:Zn,addScopeToNode:he,deferMutations:zr,mapAttributes:ji,evaluateLater:Z,setEvaluator:Gr,mergeProxies:ce,findClosest:Ue,closestRoot:Ve,interceptor:Dn,transition:Wi,setStyles:We,mutateDom:H,directive:U,throttle:os,debounce:as,evaluate:vt,initTree:kt,nextTick:Xn,prefixed:Ht,prefix:Qr,plugin:Aa,magic:ct,store:Ta,start:na,clone:fa,bound:Oa,$data:Ln,data:Ca,bind:ka},Yt=Ma,qe=Er(Sr());ct("nextTick",()=>Xn);ct("dispatch",t=>de.bind(de,t));ct("watch",t=>(e,i)=>{let n=Z(t,e),s=!0,r;qt(()=>n(o=>{JSON.stringify(o),s?r=o:queueMicrotask(()=>{i(o,r),r=o}),s=!1}))});ct("store",Sa);ct("data",t=>Ln(t));ct("root",t=>Ve(t));ct("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=ce(La(t))),t._x_refs_proxy));function La(t){let e=[],i=t;for(;i;)i._x_refs&&e.push(i._x_refs),i=i.parentNode;return e}var qi={};function hs(t){return qi[t]||(qi[t]=0),++qi[t]}function Pa(t,e){return Ue(t,i=>{if(i._x_ids&&i._x_ids[e])return!0})}function Ba(t,e){t._x_ids||(t._x_ids={}),t._x_ids[e]||(t._x_ids[e]=hs(e))}ct("id",t=>(e,i=null)=>{let n=Pa(t,e),s=n?n._x_ids[e]:hs(e);return i?`${e}-${s}-${i}`:`${e}-${s}`});ct("el",t=>t);U("teleport",(t,{expression:e},{cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&ze("x-teleport can only be used on a <template> tag",t);let n=document.querySelector(e);n||ze(`Cannot find x-teleport element for selector: "${e}"`);let s=t.content.cloneNode(!0).firstElementChild;t._x_teleport=s,s._x_teleportBack=t,t._x_forwardEvents&&t._x_forwardEvents.forEach(r=>{s.addEventListener(r,o=>{o.stopPropagation(),t.dispatchEvent(new o.constructor(o.type,o))})}),he(s,{},t),H(()=>{n.appendChild(s),kt(s),s._x_ignore=!0}),i(()=>s.remove())});var cs=()=>{};cs.inline=(t,{modifiers:e},{cleanup:i})=>{e.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,i(()=>{e.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};U("ignore",cs);U("effect",(t,{expression:e},{effect:i})=>i(Z(t,e)));function fs(t,e,i,n){let s=t,r=h=>n(h),o={},u=(h,p)=>v=>p(h,v);if(i.includes("dot")&&(e=Da(e)),i.includes("camel")&&(e=ja(e)),i.includes("passive")&&(o.passive=!0),i.includes("capture")&&(o.capture=!0),i.includes("window")&&(s=window),i.includes("document")&&(s=document),i.includes("prevent")&&(r=u(r,(h,p)=>{p.preventDefault(),h(p)})),i.includes("stop")&&(r=u(r,(h,p)=>{p.stopPropagation(),h(p)})),i.includes("self")&&(r=u(r,(h,p)=>{p.target===t&&h(p)})),(i.includes("away")||i.includes("outside"))&&(s=document,r=u(r,(h,p)=>{t.contains(p.target)||t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&h(p)})),r=u(r,(h,p)=>{$a(e)&&Ka(p,i)||h(p)}),i.includes("debounce")){let h=i[i.indexOf("debounce")+1]||"invalid-wait",p=Xi(h.split("ms")[0])?Number(h.split("ms")[0]):250;r=as(r,p)}if(i.includes("throttle")){let h=i[i.indexOf("throttle")+1]||"invalid-wait",p=Xi(h.split("ms")[0])?Number(h.split("ms")[0]):250;r=os(r,p)}return i.includes("once")&&(r=u(r,(h,p)=>{h(p),s.removeEventListener(e,r,o)})),s.addEventListener(e,r,o),()=>{s.removeEventListener(e,r,o)}}function Da(t){return t.replace(/-/g,".")}function ja(t){return t.toLowerCase().replace(/-(\w)/g,(e,i)=>i.toUpperCase())}function Xi(t){return!Array.isArray(t)&&!isNaN(t)}function Ia(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function $a(t){return["keydown","keyup"].includes(t)}function Ka(t,e){let i=e.filter(r=>!["window","document","prevent","stop","once"].includes(r));if(i.includes("debounce")){let r=i.indexOf("debounce");i.splice(r,Xi((i[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0||i.length===1&&ps(t.key).includes(i[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(r=>i.includes(r));return i=i.filter(r=>!s.includes(r)),!(s.length>0&&s.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`])).length===s.length&&ps(t.key).includes(i[0]))}function ps(t){if(!t)return[];t=Ia(t);let e={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return e[t]=t,Object.keys(e).map(i=>{if(e[i]===t)return i}).filter(i=>i)}U("model",(t,{modifiers:e,expression:i},{effect:n,cleanup:s})=>{let r=Z(t,i),o=`${i} = rightSideOfExpression($event, ${i})`,u=Z(t,o);var h=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||e.includes("lazy")?"change":"input";let p=Fa(t,e,i),v=fs(t,h,e,P=>{u(()=>{},{scope:{$event:P,rightSideOfExpression:p}})});s(()=>v());let O=Z(t,`${i} = __placeholder`);t._x_model={get(){let P;return r(j=>P=j),P},set(P){O(()=>{},{scope:{__placeholder:P}})}},t._x_forceModelUpdate=()=>{r(P=>{P===void 0&&i.match(/\./)&&(P=""),window.fromModel=!0,H(()=>ns(t,"value",P)),delete window.fromModel})},n(()=>{e.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate()})});function Fa(t,e,i){return t.type==="radio"&&H(()=>{t.hasAttribute("name")||t.setAttribute("name",i)}),(n,s)=>H(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail||n.target.value;if(t.type==="checkbox")if(Array.isArray(s)){let r=e.includes("number")?Hi(n.target.value):n.target.value;return n.target.checked?s.concat([r]):s.filter(o=>!za(o,r))}else return n.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(n.target.selectedOptions).map(r=>{let o=r.value||r.text;return Hi(o)}):Array.from(n.target.selectedOptions).map(r=>r.value||r.text);{let r=n.target.value;return e.includes("number")?Hi(r):e.includes("trim")?r.trim():r}}})}function Hi(t){let e=t?parseFloat(t):null;return Va(e)?e:t}function za(t,e){return t==e}function Va(t){return!Array.isArray(t)&&!isNaN(t)}U("cloak",t=>queueMicrotask(()=>H(()=>t.removeAttribute(Ht("cloak")))));Zn(()=>`[${Ht("init")}]`);U("init",Ge((t,{expression:e})=>typeof e=="string"?!!e.trim()&&vt(t,e,{}):vt(t,e,{})));U("text",(t,{expression:e},{effect:i,evaluateLater:n})=>{let s=n(e);i(()=>{s(r=>{H(()=>{t.textContent=r})})})});U("html",(t,{expression:e},{effect:i,evaluateLater:n})=>{let s=n(e);i(()=>{s(r=>{t.innerHTML=r})})});ji(zn(":",Vn(Ht("bind:"))));U("bind",(t,{value:e,modifiers:i,expression:n,original:s},{effect:r})=>{if(!e)return Ua(t,n,s);if(e==="key")return Wa(t,n);let o=Z(t,n);r(()=>o(u=>{u===void 0&&n.match(/\./)&&(u=""),H(()=>ns(t,e,u,i))}))});function Ua(t,e,i,n){let s={};Ra(s);let r=Z(t,e),o=[];for(;o.length;)o.pop()();r(u=>{let h=Object.entries(u).map(([v,O])=>({name:v,value:O})),p=Yr(h);h=h.map(v=>p.find(O=>O.name===v.name)?{name:`x-bind:${v.name}`,value:`"${v.value}"`}:v),Bi(t,h,i).map(v=>{o.push(v.runCleanups),v()})},{scope:s})}function Wa(t,e){t._x_keyExpression=e}Jn(()=>`[${Ht("data")}]`);U("data",Ge((t,{expression:e},{cleanup:i})=>{e=e===""?"{}":e;let n={};Mi(n,t);let s={};Na(s,n);let r=vt(t,e,{scope:s});r===void 0&&(r={}),Mi(r,t);let o=Gt(r);Bn(o);let u=he(t,o);o.init&&vt(t,o.init),i(()=>{u(),o.destroy&&vt(t,o.destroy)})}));U("show",(t,{modifiers:e,expression:i},{effect:n})=>{let s=Z(t,i),r=()=>H(()=>{t.style.display="none",t._x_isShown=!1}),o=()=>H(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display"),t._x_isShown=!0}),u=()=>setTimeout(o),h=Ui(O=>O?o():r(),O=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,O,o,r):O?u():r()}),p,v=!0;n(()=>s(O=>{!v&&O===p||(e.includes("immediate")&&(O?u():r()),h(O),p=O,v=!1)}))});U("for",(t,{expression:e},{effect:i,cleanup:n})=>{let s=qa(e),r=Z(t,s.items),o=Z(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},i(()=>Ga(t,s,r,o)),n(()=>{Object.values(t._x_lookup).forEach(u=>u.remove()),delete t._x_prevKeys,delete t._x_lookup})});function Ga(t,e,i,n){let s=o=>typeof o=="object"&&!Array.isArray(o),r=t;i(o=>{Xa(o)&&o>=0&&(o=Array.from(Array(o).keys(),y=>y+1)),o===void 0&&(o=[]);let u=t._x_lookup,h=t._x_prevKeys,p=[],v=[];if(s(o))o=Object.entries(o).map(([y,L])=>{let T=ds(e,L,y,o);n(M=>v.push(M),{scope:De({index:y},T)}),p.push(T)});else for(let y=0;y<o.length;y++){let L=ds(e,o[y],y,o);n(T=>v.push(T),{scope:De({index:y},L)}),p.push(L)}let O=[],P=[],j=[],q=[];for(let y=0;y<h.length;y++){let L=h[y];v.indexOf(L)===-1&&j.push(L)}h=h.filter(y=>!j.includes(y));let $="template";for(let y=0;y<v.length;y++){let L=v[y],T=h.indexOf(L);if(T===-1)h.splice(y,0,L),O.push([$,y]);else if(T!==y){let M=h.splice(y,1)[0],J=h.splice(T-1,1)[0];h.splice(y,0,J),h.splice(T,0,M),P.push([M,J])}else q.push(L);$=L}for(let y=0;y<j.length;y++){let L=j[y];u[L].remove(),u[L]=null,delete u[L]}for(let y=0;y<P.length;y++){let[L,T]=P[y],M=u[L],J=u[T],ot=document.createElement("div");H(()=>{J.after(ot),M.after(J),J._x_currentIfEl&&J.after(J._x_currentIfEl),ot.before(M),M._x_currentIfEl&&M.after(M._x_currentIfEl),ot.remove()}),Pn(J,p[v.indexOf(T)])}for(let y=0;y<O.length;y++){let[L,T]=O[y],M=L==="template"?r:u[L];M._x_currentIfEl&&(M=M._x_currentIfEl);let J=p[T],ot=v[T],dt=document.importNode(r.content,!0).firstElementChild;he(dt,Gt(J),r),H(()=>{M.after(dt),kt(dt)}),typeof ot=="object"&&ze("x-for key cannot be an object, it must be a string or an integer",r),u[ot]=dt}for(let y=0;y<q.length;y++)Pn(u[q[y]],p[v.indexOf(q[y])]);r._x_prevKeys=v})}function qa(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,n=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=t.match(n);if(!s)return;let r={};r.items=s[2].trim();let o=s[1].replace(i,"").trim(),u=o.match(e);return u?(r.item=o.replace(e,"").trim(),r.index=u[1].trim(),u[2]&&(r.collection=u[2].trim())):r.item=o,r}function ds(t,e,i,n){let s={};return/^\[.*\]$/.test(t.item)&&Array.isArray(e)?t.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,u)=>{s[o]=e[u]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(e)&&typeof e=="object"?t.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{s[o]=e[o]}):s[t.item]=e,t.index&&(s[t.index]=i),t.collection&&(s[t.collection]=n),s}function Xa(t){return!Array.isArray(t)&&!isNaN(t)}function gs(){}gs.inline=(t,{expression:e},{cleanup:i})=>{let n=Ve(t);n._x_refs||(n._x_refs={}),n._x_refs[e]=t,i(()=>delete n._x_refs[e])};U("ref",gs);U("if",(t,{expression:e},{effect:i,cleanup:n})=>{let s=Z(t,e),r=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let u=t.content.cloneNode(!0).firstElementChild;return he(u,{},t),H(()=>{t.after(u),kt(u)}),t._x_currentIfEl=u,t._x_undoIf=()=>{u.remove(),delete t._x_currentIfEl},u},o=()=>{!t._x_undoIf||(t._x_undoIf(),delete t._x_undoIf)};i(()=>s(u=>{u?r():o()})),n(()=>t._x_undoIf&&t._x_undoIf())});U("id",(t,{expression:e},{evaluate:i})=>{i(e).forEach(s=>Ba(t,s))});ji(zn("@",Vn(Ht("on:"))));U("on",Ge((t,{value:e,modifiers:i,expression:n},{cleanup:s})=>{let r=n?Z(t,n):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(e)||t._x_forwardEvents.push(e));let o=fs(t,e,i,u=>{r(()=>{},{scope:{$event:u},params:[u]})});s(()=>o())}));Yt.setEvaluator($n);Yt.setReactivityEngine({reactive:qe.reactive,effect:qe.effect,release:qe.stop,raw:qe.toRaw});var Ha=Yt,al=Ha;class Qa{constructor(e,i,n){this.eventTarget=e,this.eventName=i,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const i=Ya(e);for(const n of this.bindings){if(i.immediatePropagationStopped)break;n.handleEvent(i)}}get bindings(){return Array.from(this.unorderedBindings).sort((e,i)=>{const n=e.index,s=i.index;return n<s?-1:n>s?1:0})}}function Ya(t){if("immediatePropagationStopped"in t)return t;{const{stopImmediatePropagation:e}=t;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}class Ja{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,i)=>e.concat(Array.from(i.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)}handleError(e,i,n={}){this.application.handleError(e,`Error ${i}`,n)}fetchEventListenerForBinding(e){const{eventTarget:i,eventName:n,eventOptions:s}=e;return this.fetchEventListener(i,n,s)}fetchEventListener(e,i,n){const s=this.fetchEventListenerMapForEventTarget(e),r=this.cacheKey(i,n);let o=s.get(r);return o||(o=this.createEventListener(e,i,n),s.set(r,o)),o}createEventListener(e,i,n){const s=new Qa(e,i,n);return this.started&&s.connect(),s}fetchEventListenerMapForEventTarget(e){let i=this.eventListenerMaps.get(e);return i||(i=new Map,this.eventListenerMaps.set(e,i)),i}cacheKey(e,i){const n=[e];return Object.keys(i).sort().forEach(s=>{n.push(`${i[s]?"":"!"}${s}`)}),n.join(":")}}const Za=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;function to(t){const i=t.trim().match(Za)||[];return{eventTarget:eo(i[4]),eventName:i[2],eventOptions:i[9]?io(i[9]):{},identifier:i[5],methodName:i[7]}}function eo(t){if(t=="window")return window;if(t=="document")return document}function io(t){return t.split(":").reduce((e,i)=>Object.assign(e,{[i.replace(/^!/,"")]:!/^!/.test(i)}),{})}function no(t){if(t==window)return"window";if(t==document)return"document"}function ms(t){return t.replace(/(?:[_-])([a-z0-9])/g,(e,i)=>i.toUpperCase())}function Xe(t){return t.charAt(0).toUpperCase()+t.slice(1)}function bs(t){return t.replace(/([A-Z])/g,(e,i)=>`-${i.toLowerCase()}`)}function so(t){return t.match(/[^\s]+/g)||[]}class ro{constructor(e,i,n){this.element=e,this.index=i,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||ao(e)||Qi("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||Qi("missing identifier"),this.methodName=n.methodName||Qi("missing method name")}static forToken(e){return new this(e.element,e.index,to(e.content))}toString(){const e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}->${this.identifier}#${this.methodName}`}get params(){return this.eventTarget instanceof Element?this.getParamsFromEventTargetAttributes(this.eventTarget):{}}getParamsFromEventTargetAttributes(e){const i={},n=new RegExp(`^data-${this.identifier}-(.+)-param$`);return Array.from(e.attributes).forEach(({name:r,value:o})=>{const u=r.match(n),h=u&&u[1];h&&Object.assign(i,{[ms(h)]:oo(o)})}),i}get eventTargetName(){return no(this.eventTarget)}}const vs={a:t=>"click",button:t=>"click",form:t=>"submit",details:t=>"toggle",input:t=>t.getAttribute("type")=="submit"?"click":"input",select:t=>"change",textarea:t=>"input"};function ao(t){const e=t.tagName.toLowerCase();if(e in vs)return vs[e](t)}function Qi(t){throw new Error(t)}function oo(t){try{return JSON.parse(t)}catch{return t}}class uo{constructor(e,i){this.context=e,this.action=i}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}invokeWithEvent(e){const{target:i,currentTarget:n}=e;try{const{params:s}=this.action,r=Object.assign(e,{params:s});this.method.call(this.controller,r),this.context.logDebugActivity(this.methodName,{event:e,target:i,currentTarget:n,action:this.methodName})}catch(s){const{identifier:r,controller:o,element:u,index:h}=this,p={identifier:r,controller:o,element:u,index:h,event:e};this.context.handleError(s,`invoking action "${this.action}"`,p)}}willBeInvokedByEvent(e){const i=e.target;return this.element===i?!0:i instanceof Element&&this.element.contains(i)?this.scope.containsElement(i):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class lo{constructor(e,i){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=i,this.elements=new Set,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const i of Array.from(this.elements))e.has(i)||this.removeElement(i);for(const i of Array.from(e))this.addElement(i)}}processMutations(e){if(this.started)for(const i of e)this.processMutation(i)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,i){const n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,i):this.removeElement(n):this.matchElement(n)&&this.addElement(n)}processRemovedNodes(e){for(const i of Array.from(e)){const n=this.elementFromNode(i);n&&this.processTree(n,this.removeElement)}}processAddedNodes(e){for(const i of Array.from(e)){const n=this.elementFromNode(i);n&&this.elementIsActive(n)&&this.processTree(n,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,i){for(const n of this.matchElementsInTree(e))i.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class _o{constructor(e,i,n){this.attributeName=i,this.delegate=n,this.elementObserver=new lo(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const i=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return i.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,i){this.delegate.elementAttributeValueChanged&&this.attributeName==i&&this.delegate.elementAttributeValueChanged(e,i)}}class ho{constructor(e,i){this.element=e,this.delegate=i,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(n=>this.processMutations(n))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const i of e)this.processMutation(i)}processMutation(e){const i=e.attributeName;i&&this.refreshAttribute(i,e.oldValue)}refreshAttribute(e,i){const n=this.delegate.getStringMapKeyForAttribute(e);if(n!=null){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);const s=this.element.getAttribute(e);if(this.stringMap.get(e)!=s&&this.stringMapValueChanged(s,n,i),s==null){const r=this.stringMap.get(e);this.stringMap.delete(e),r&&this.stringMapKeyRemoved(n,e,r)}else this.stringMap.set(e,s)}}stringMapKeyAdded(e,i){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,i)}stringMapValueChanged(e,i,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,i,n)}stringMapKeyRemoved(e,i,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,i,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}function co(t,e,i){ys(t,e).add(i)}function fo(t,e,i){ys(t,e).delete(i),po(t,e)}function ys(t,e){let i=t.get(e);return i||(i=new Set,t.set(e,i)),i}function po(t,e){const i=t.get(e);i!=null&&i.size==0&&t.delete(e)}class Yi{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((i,n)=>i.concat(Array.from(n)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((i,n)=>i+n.size,0)}add(e,i){co(this.valuesByKey,e,i)}delete(e,i){fo(this.valuesByKey,e,i)}has(e,i){const n=this.valuesByKey.get(e);return n!=null&&n.has(i)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(n=>n.has(e))}getValuesForKey(e){const i=this.valuesByKey.get(e);return i?Array.from(i):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([i,n])=>n.has(e)).map(([i,n])=>i)}}class ws{constructor(e,i,n){this.attributeObserver=new _o(e,i,this),this.delegate=n,this.tokensByElement=new Yi}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[i,n]=this.refreshTokensForElement(e);this.tokensUnmatched(i),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(i=>this.tokenMatched(i))}tokensUnmatched(e){e.forEach(i=>this.tokenUnmatched(i))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const i=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),s=mo(i,n).findIndex(([r,o])=>!bo(r,o));return s==-1?[[],[]]:[i.slice(s),n.slice(s)]}readTokensForElement(e){const i=this.attributeName,n=e.getAttribute(i)||"";return go(n,e,i)}}function go(t,e,i){return t.trim().split(/\s+/).filter(n=>n.length).map((n,s)=>({element:e,attributeName:i,content:n,index:s}))}function mo(t,e){const i=Math.max(t.length,e.length);return Array.from({length:i},(n,s)=>[t[s],e[s]])}function bo(t,e){return t&&e&&t.index==e.index&&t.content==e.content}class xs{constructor(e,i,n){this.tokenListObserver=new ws(e,i,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:i}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(i).set(e,n),this.delegate.elementMatchedValue(i,n))}tokenUnmatched(e){const{element:i}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(i).delete(e),this.delegate.elementUnmatchedValue(i,n))}fetchParseResultForToken(e){let i=this.parseResultsByToken.get(e);return i||(i=this.parseToken(e),this.parseResultsByToken.set(e,i)),i}fetchValuesByTokenForElement(e){let i=this.valuesByTokenByElement.get(e);return i||(i=new Map,this.valuesByTokenByElement.set(e,i)),i}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(i){return{error:i}}}}class vo{constructor(e,i){this.context=e,this.delegate=i,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new xs(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const i=new uo(this.context,e);this.bindingsByAction.set(e,i),this.delegate.bindingConnected(i)}disconnectAction(e){const i=this.bindingsByAction.get(e);i&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(i))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e)),this.bindingsByAction.clear()}parseValueForToken(e){const i=ro.forToken(e);if(i.identifier==this.identifier)return i}elementMatchedValue(e,i){this.connectAction(i)}elementUnmatchedValue(e,i){this.disconnectAction(i)}}class yo{constructor(e,i){this.context=e,this.receiver=i,this.stringMapObserver=new ho(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap,this.invokeChangedCallbacksForDefaultValues()}start(){this.stringMapObserver.start()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,i){const n=this.valueDescriptorMap[i];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,i,n){const s=this.valueDescriptorNameMap[i];e!==null&&(n===null&&(n=s.writer(s.defaultValue)),this.invokeChangedCallback(i,e,n))}stringMapKeyRemoved(e,i,n){const s=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,s.writer(this.receiver[e]),n):this.invokeChangedCallback(e,s.writer(s.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:i,defaultValue:n,writer:s}of this.valueDescriptors)n!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(i,s(n),void 0)}invokeChangedCallback(e,i,n){const s=`${e}Changed`,r=this.receiver[s];if(typeof r=="function"){const o=this.valueDescriptorNameMap[e],u=o.reader(i);let h=n;n&&(h=o.reader(n)),r.call(this.receiver,u,h)}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map(i=>e[i])}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach(i=>{const n=this.valueDescriptorMap[i];e[n.name]=n}),e}hasValue(e){const i=this.valueDescriptorNameMap[e],n=`has${Xe(i.name)}`;return this.receiver[n]}}class wo{constructor(e,i){this.context=e,this.delegate=i,this.targetsByName=new Yi}start(){this.tokenListObserver||(this.tokenListObserver=new ws(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:i}){this.scope.containsElement(e)&&this.connectTarget(e,i)}tokenUnmatched({element:e,content:i}){this.disconnectTarget(e,i)}connectTarget(e,i){var n;this.targetsByName.has(i,e)||(this.targetsByName.add(i,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetConnected(e,i)))}disconnectTarget(e,i){var n;this.targetsByName.has(i,e)&&(this.targetsByName.delete(i,e),(n=this.tokenListObserver)===null||n===void 0||n.pause(()=>this.delegate.targetDisconnected(e,i)))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const i of this.targetsByName.getValuesForKey(e))this.disconnectTarget(i,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}class xo{constructor(e,i){this.logDebugActivity=(n,s={})=>{const{identifier:r,controller:o,element:u}=this;s=Object.assign({identifier:r,controller:o,element:u},s),this.application.logDebugActivity(this.identifier,n,s)},this.module=e,this.scope=i,this.controller=new e.controllerConstructor(this),this.bindingObserver=new vo(this,this.dispatcher),this.valueObserver=new yo(this,this.controller),this.targetObserver=new wo(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(n){this.handleError(n,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,i,n={}){const{identifier:s,controller:r,element:o}=this;n=Object.assign({identifier:s,controller:r,element:o},n),this.application.handleError(e,`Error ${i}`,n)}targetConnected(e,i){this.invokeControllerMethod(`${i}TargetConnected`,e)}targetDisconnected(e,i){this.invokeControllerMethod(`${i}TargetDisconnected`,e)}invokeControllerMethod(e,...i){const n=this.controller;typeof n[e]=="function"&&n[e](...i)}}function Ji(t,e){const i=Es(t);return Array.from(i.reduce((n,s)=>(Oo(s,e).forEach(r=>n.add(r)),n),new Set))}function Eo(t,e){return Es(t).reduce((n,s)=>(n.push(...Ao(s,e)),n),[])}function Es(t){const e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e.reverse()}function Oo(t,e){const i=t[e];return Array.isArray(i)?i:[]}function Ao(t,e){const i=t[e];return i?Object.keys(i).map(n=>[n,i[n]]):[]}function To(t){return So(t,ko(t))}function So(t,e){const i=Mo(t),n=Ro(t.prototype,e);return Object.defineProperties(i.prototype,n),i}function ko(t){return Ji(t,"blessings").reduce((i,n)=>{const s=n(t);for(const r in s){const o=i[r]||{};i[r]=Object.assign(o,s[r])}return i},{})}function Ro(t,e){return No(e).reduce((i,n)=>{const s=Co(t,e,n);return s&&Object.assign(i,{[n]:s}),i},{})}function Co(t,e,i){const n=Object.getOwnPropertyDescriptor(t,i);if(!(n&&"value"in n)){const r=Object.getOwnPropertyDescriptor(e,i).value;return n&&(r.get=n.get||r.get,r.set=n.set||r.set),r}}const No=(()=>typeof Object.getOwnPropertySymbols=="function"?t=>[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)]:Object.getOwnPropertyNames)(),Mo=(()=>{function t(i){function n(){return Reflect.construct(i,arguments,new.target)}return n.prototype=Object.create(i.prototype,{constructor:{value:n}}),Reflect.setPrototypeOf(n,i),n}function e(){const n=t(function(){this.a.call(this)});return n.prototype.a=function(){},new n}try{return e(),t}catch{return n=>class extends n{}}})();function Lo(t){return{identifier:t.identifier,controllerConstructor:To(t.controllerConstructor)}}class Po{constructor(e,i){this.application=e,this.definition=Lo(i),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const i=this.fetchContextForScope(e);this.connectedContexts.add(i),i.connect()}disconnectContextForScope(e){const i=this.contextsByScope.get(e);i&&(this.connectedContexts.delete(i),i.disconnect())}fetchContextForScope(e){let i=this.contextsByScope.get(e);return i||(i=new xo(this,e),this.contextsByScope.set(e,i)),i}}class Bo{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const i=this.data.get(this.getDataKey(e))||"";return so(i)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class Do{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const i=this.getAttributeNameForKey(e);return this.element.getAttribute(i)}set(e,i){const n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,i),this.get(e)}has(e){const i=this.getAttributeNameForKey(e);return this.element.hasAttribute(i)}delete(e){if(this.has(e)){const i=this.getAttributeNameForKey(e);return this.element.removeAttribute(i),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${bs(e)}`}}class jo{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,i,n){let s=this.warnedKeysByObject.get(e);s||(s=new Set,this.warnedKeysByObject.set(e,s)),s.has(i)||(s.add(i),this.logger.warn(n,e))}}function Zi(t,e){return`[${t}~="${e}"]`}class Io{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((i,n)=>i||this.findTarget(n)||this.findLegacyTarget(n),void 0)}findAll(...e){return e.reduce((i,n)=>[...i,...this.findAllTargets(n),...this.findAllLegacyTargets(n)],[])}findTarget(e){const i=this.getSelectorForTargetName(e);return this.scope.findElement(i)}findAllTargets(e){const i=this.getSelectorForTargetName(e);return this.scope.findAllElements(i)}getSelectorForTargetName(e){const i=this.schema.targetAttributeForScope(this.identifier);return Zi(i,e)}findLegacyTarget(e){const i=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(i),e)}findAllLegacyTargets(e){const i=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(i).map(n=>this.deprecate(n,e))}getLegacySelectorForTargetName(e){const i=`${this.identifier}.${e}`;return Zi(this.schema.targetAttribute,i)}deprecate(e,i){if(e){const{identifier:n}=this,s=this.schema.targetAttribute,r=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${i}`,`Please replace ${s}="${n}.${i}" with ${r}="${i}". The ${s} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class $o{constructor(e,i,n,s){this.targets=new Io(this),this.classes=new Bo(this),this.data=new Do(this),this.containsElement=r=>r.closest(this.controllerSelector)===this.element,this.schema=e,this.element=i,this.identifier=n,this.guide=new jo(s)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Zi(this.schema.controllerAttribute,this.identifier)}}class Ko{constructor(e,i,n){this.element=e,this.schema=i,this.delegate=n,this.valueListObserver=new xs(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:i,content:n}=e,s=this.fetchScopesByIdentifierForElement(i);let r=s.get(n);return r||(r=this.delegate.createScopeForElementAndIdentifier(i,n),s.set(n,r)),r}elementMatchedValue(e,i){const n=(this.scopeReferenceCounts.get(i)||0)+1;this.scopeReferenceCounts.set(i,n),n==1&&this.delegate.scopeConnected(i)}elementUnmatchedValue(e,i){const n=this.scopeReferenceCounts.get(i);n&&(this.scopeReferenceCounts.set(i,n-1),n==1&&this.delegate.scopeDisconnected(i))}fetchScopesByIdentifierForElement(e){let i=this.scopesByIdentifierByElement.get(e);return i||(i=new Map,this.scopesByIdentifierByElement.set(e,i)),i}}class Fo{constructor(e){this.application=e,this.scopeObserver=new Ko(this.element,this.schema,this),this.scopesByIdentifier=new Yi,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,i)=>e.concat(i.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const i=new Po(this.application,e);this.connectModule(i)}unloadIdentifier(e){const i=this.modulesByIdentifier.get(e);i&&this.disconnectModule(i)}getContextForElementAndIdentifier(e,i){const n=this.modulesByIdentifier.get(i);if(n)return n.contexts.find(s=>s.element==e)}handleError(e,i,n){this.application.handleError(e,i,n)}createScopeForElementAndIdentifier(e,i){return new $o(this.schema,e,i,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const i=this.modulesByIdentifier.get(e.identifier);i&&i.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const i=this.modulesByIdentifier.get(e.identifier);i&&i.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.connectContextForScope(n))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(n=>e.disconnectContextForScope(n))}}const zo={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:t=>`data-${t}-target`};class Os{constructor(e=document.documentElement,i=zo){this.logger=console,this.debug=!1,this.logDebugActivity=(n,s,r={})=>{this.debug&&this.logFormattedMessage(n,s,r)},this.element=e,this.schema=i,this.dispatcher=new Ja(this),this.router=new Fo(this)}static start(e,i){const n=new Os(e,i);return n.start(),n}async start(){await Vo(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,i){i.shouldLoad&&this.load({identifier:e,controllerConstructor:i})}load(e,...i){(Array.isArray(e)?e:[e,...i]).forEach(s=>this.router.loadDefinition(s))}unload(e,...i){(Array.isArray(e)?e:[e,...i]).forEach(s=>this.router.unloadIdentifier(s))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,i){const n=this.router.getContextForElementAndIdentifier(e,i);return n?n.controller:null}handleError(e,i,n){var s;this.logger.error(`%s

%o

%o`,i,e,n),(s=window.onerror)===null||s===void 0||s.call(window,i,"",0,0,e)}logFormattedMessage(e,i,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${i}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}}function Vo(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>t()):t()})}function Uo(t){return Ji(t,"classes").reduce((i,n)=>Object.assign(i,Wo(n)),{})}function Wo(t){return{[`${t}Class`]:{get(){const{classes:e}=this;if(e.has(t))return e.get(t);{const i=e.getAttributeName(t);throw new Error(`Missing attribute "${i}"`)}}},[`${t}Classes`]:{get(){return this.classes.getAll(t)}},[`has${Xe(t)}Class`]:{get(){return this.classes.has(t)}}}}function Go(t){return Ji(t,"targets").reduce((i,n)=>Object.assign(i,qo(n)),{})}function qo(t){return{[`${t}Target`]:{get(){const e=this.targets.find(t);if(e)return e;throw new Error(`Missing target element "${t}" for "${this.identifier}" controller`)}},[`${t}Targets`]:{get(){return this.targets.findAll(t)}},[`has${Xe(t)}Target`]:{get(){return this.targets.has(t)}}}}function Xo(t){const e=Eo(t,"values"),i={valueDescriptorMap:{get(){return e.reduce((n,s)=>{const r=As(s),o=this.data.getAttributeNameForKey(r.key);return Object.assign(n,{[o]:r})},{})}}};return e.reduce((n,s)=>Object.assign(n,Ho(s)),i)}function Ho(t){const e=As(t),{key:i,name:n,reader:s,writer:r}=e;return{[n]:{get(){const o=this.data.get(i);return o!==null?s(o):e.defaultValue},set(o){o===void 0?this.data.delete(i):this.data.set(i,r(o))}},[`has${Xe(n)}`]:{get(){return this.data.has(i)||e.hasCustomDefaultValue}}}}function As([t,e]){return Zo(t,e)}function tn(t){switch(t){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function en(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(t))return"array";if(Object.prototype.toString.call(t)==="[object Object]")return"object"}function Qo(t){const e=tn(t.type);if(e){const i=en(t.default);if(e!==i)throw new Error(`Type "${e}" must match the type of the default value. Given default value: "${t.default}" as "${i}"`);return e}}function Yo(t){const e=Qo(t),i=en(t),n=tn(t),s=e||i||n;if(s)return s;throw new Error(`Unknown value type "${t}"`)}function Jo(t){const e=tn(t);if(e)return tu[e];const i=t.default;return i!==void 0?i:t}function Zo(t,e){const i=`${bs(t)}-value`,n=Yo(e);return{type:n,key:i,name:ms(i),get defaultValue(){return Jo(e)},get hasCustomDefaultValue(){return en(e)!==void 0},reader:eu[n],writer:Ts[n]||Ts.default}}const tu={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},eu={array(t){const e=JSON.parse(t);if(!Array.isArray(e))throw new TypeError("Expected array");return e},boolean(t){return!(t=="0"||t=="false")},number(t){return Number(t)},object(t){const e=JSON.parse(t);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError("Expected object");return e},string(t){return t}},Ts={default:iu,array:Ss,object:Ss};function Ss(t){return JSON.stringify(t)}function iu(t){return`${t}`}class nn{constructor(e){this.context=e}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:i=this.element,detail:n={},prefix:s=this.identifier,bubbles:r=!0,cancelable:o=!0}={}){const u=s?`${s}:${e}`:e,h=new CustomEvent(u,{detail:n,bubbles:r,cancelable:o});return i.dispatchEvent(h),h}}nn.blessings=[Uo,Go,Xo];nn.targets=[];nn.values={};var sn={exports:{}},He={},rn={exports:{}},ks={},Qe={};function W(t){this.__parent=t,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}W.prototype.clone_empty=function(){var t=new W(this.__parent);return t.set_indent(this.__indent_count,this.__alignment_count),t};W.prototype.item=function(t){return t<0?this.__items[this.__items.length+t]:this.__items[t]};W.prototype.has_match=function(t){for(var e=this.__items.length-1;e>=0;e--)if(this.__items[e].match(t))return!0;return!1};W.prototype.set_indent=function(t,e){this.is_empty()&&(this.__indent_count=t||0,this.__alignment_count=e||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};W.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};W.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};W.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var t=this.__parent.current_line;return t.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),t.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),t.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,t.__items[0]===" "&&(t.__items.splice(0,1),t.__character_count-=1),!0}return!1};W.prototype.is_empty=function(){return this.__items.length===0};W.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};W.prototype.push=function(t){this.__items.push(t);var e=t.lastIndexOf(`
`);e!==-1?this.__character_count=t.length-e:this.__character_count+=t.length};W.prototype.pop=function(){var t=null;return this.is_empty()||(t=this.__items.pop(),this.__character_count-=t.length),t};W.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};W.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};W.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1};W.prototype.toString=function(){var t="";return this.is_empty()?this.__parent.indent_empty_lines&&(t=this.__parent.get_indent_string(this.__indent_count)):(t=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),t+=this.__items.join("")),t};function me(t,e){this.__cache=[""],this.__indent_size=t.indent_size,this.__indent_string=t.indent_char,t.indent_with_tabs||(this.__indent_string=new Array(t.indent_size+1).join(t.indent_char)),e=e||"",t.indent_level>0&&(e=new Array(t.indent_level+1).join(this.__indent_string)),this.__base_string=e,this.__base_string_length=e.length}me.prototype.get_indent_size=function(t,e){var i=this.__base_string_length;return e=e||0,t<0&&(i=0),i+=t*this.__indent_size,i+=e,i};me.prototype.get_indent_string=function(t,e){var i=this.__base_string;return e=e||0,t<0&&(t=0,i=""),e+=t*this.__indent_size,this.__ensure_cache(e),i+=this.__cache[e],i};me.prototype.__ensure_cache=function(t){for(;t>=this.__cache.length;)this.__add_column()};me.prototype.__add_column=function(){var t=this.__cache.length,e=0,i="";this.__indent_size&&t>=this.__indent_size&&(e=Math.floor(t/this.__indent_size),t-=e*this.__indent_size,i=new Array(e+1).join(this.__indent_string)),t&&(i+=new Array(t+1).join(" ")),this.__cache.push(i)};function G(t,e){this.__indent_cache=new me(t,e),this.raw=!1,this._end_with_newline=t.end_with_newline,this.indent_size=t.indent_size,this.wrap_line_length=t.wrap_line_length,this.indent_empty_lines=t.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new W(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}G.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)};G.prototype.get_line_number=function(){return this.__lines.length};G.prototype.get_indent_string=function(t,e){return this.__indent_cache.get_indent_string(t,e)};G.prototype.get_indent_size=function(t,e){return this.__indent_cache.get_indent_size(t,e)};G.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};G.prototype.add_new_line=function(t){return this.is_empty()||!t&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};G.prototype.get_code=function(t){this.trim(!0);var e=this.current_line.pop();e&&(e[e.length-1]===`
`&&(e=e.replace(/\n+$/g,"")),this.current_line.push(e)),this._end_with_newline&&this.__add_outputline();var i=this.__lines.join(`
`);return t!==`
`&&(i=i.replace(/[\n]/g,t)),i};G.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};G.prototype.set_indent=function(t,e){return t=t||0,e=e||0,this.next_line.set_indent(t,e),this.__lines.length>1?(this.current_line.set_indent(t,e),!0):(this.current_line.set_indent(),!1)};G.prototype.add_raw_token=function(t){for(var e=0;e<t.newlines;e++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(t.whitespace_before),this.current_line.push(t.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1};G.prototype.add_token=function(t){this.__add_space_before_token(),this.current_line.push(t),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()};G.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};G.prototype.remove_indent=function(t){for(var e=this.__lines.length;t<e;)this.__lines[t]._remove_indent(),t++;this.current_line._remove_wrap_indent()};G.prototype.trim=function(t){for(t=t===void 0?!1:t,this.current_line.trim();t&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};G.prototype.just_added_newline=function(){return this.current_line.is_empty()};G.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};G.prototype.ensure_empty_line_above=function(t,e){for(var i=this.__lines.length-2;i>=0;){var n=this.__lines[i];if(n.is_empty())break;if(n.item(0).indexOf(t)!==0&&n.item(-1)!==e){this.__lines.splice(i+1,0,new W(this)),this.previous_line=this.__lines[this.__lines.length-2];break}i--}};Qe.Output=G;var an={};function nu(t,e,i,n){this.type=t,this.text=e,this.comments_before=null,this.newlines=i||0,this.whitespace_before=n||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}an.Token=nu;var on={};(function(t){var e="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",i="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",s="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",r="(?:\\\\u[0-9a-fA-F]{4}|["+e+n+"])",o="(?:\\\\u[0-9a-fA-F]{4}|["+i+n+s+"])*";t.identifier=new RegExp(r+o,"g"),t.identifierStart=new RegExp(r),t.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+i+n+s+"])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp(`\r
|`+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")})(on);var un={},Jt={};function yt(t,e){this.raw_options=Rs(t,e),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}yt.prototype._get_array=function(t,e){var i=this.raw_options[t],n=e||[];return typeof i=="object"?i!==null&&typeof i.concat=="function"&&(n=i.concat()):typeof i=="string"&&(n=i.split(/[^a-zA-Z0-9_\/\-]+/)),n};yt.prototype._get_boolean=function(t,e){var i=this.raw_options[t],n=i===void 0?!!e:!!i;return n};yt.prototype._get_characters=function(t,e){var i=this.raw_options[t],n=e||"";return typeof i=="string"&&(n=i.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),n};yt.prototype._get_number=function(t,e){var i=this.raw_options[t];e=parseInt(e,10),isNaN(e)&&(e=0);var n=parseInt(i,10);return isNaN(n)&&(n=e),n};yt.prototype._get_selection=function(t,e,i){var n=this._get_selection_list(t,e,i);if(n.length!==1)throw new Error("Invalid Option Value: The option '"+t+`' can only be one of the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return n[0]};yt.prototype._get_selection_list=function(t,e,i){if(!e||e.length===0)throw new Error("Selection list cannot be empty.");if(i=i||[e[0]],!this._is_valid_selection(i,e))throw new Error("Invalid Default Value!");var n=this._get_array(t,i);if(!this._is_valid_selection(n,e))throw new Error("Invalid Option Value: The option '"+t+`' can contain only the following values:
`+e+`
You passed in: '`+this.raw_options[t]+"'");return n};yt.prototype._is_valid_selection=function(t,e){return t.length&&e.length&&!t.some(function(i){return e.indexOf(i)===-1})};function Rs(t,e){var i={};t=Cs(t);var n;for(n in t)n!==e&&(i[n]=t[n]);if(e&&t[e])for(n in t[e])i[n]=t[e][n];return i}function Cs(t){var e={},i;for(i in t){var n=i.replace(/-/g,"_");e[n]=t[i]}return e}Jt.Options=yt;Jt.normalizeOpts=Cs;Jt.mergeOpts=Rs;var Ns=Jt.Options,su=["before-newline","after-newline","preserve-newline"];function Ms(t){Ns.call(this,t,"js");var e=this.raw_options.brace_style||null;e==="expand-strict"?this.raw_options.brace_style="expand":e==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var n=0;n<i.length;n++)i[n]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=i[n];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",su),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}Ms.prototype=new Ns;un.Options=Ms;var wt={},Ye={},Ls=RegExp.prototype.hasOwnProperty("sticky");function Q(t){this.__input=t||"",this.__input_length=this.__input.length,this.__position=0}Q.prototype.restart=function(){this.__position=0};Q.prototype.back=function(){this.__position>0&&(this.__position-=1)};Q.prototype.hasNext=function(){return this.__position<this.__input_length};Q.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__input.charAt(this.__position),this.__position+=1),t};Q.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__input_length&&(e=this.__input.charAt(t)),e};Q.prototype.__match=function(t,e){t.lastIndex=e;var i=t.exec(this.__input);return i&&!(Ls&&t.sticky)&&i.index!==e&&(i=null),i};Q.prototype.test=function(t,e){return e=e||0,e+=this.__position,e>=0&&e<this.__input_length?!!this.__match(t,e):!1};Q.prototype.testChar=function(t,e){var i=this.peek(e);return t.lastIndex=0,i!==null&&t.test(i)};Q.prototype.match=function(t){var e=this.__match(t,this.__position);return e?this.__position+=e[0].length:e=null,e};Q.prototype.read=function(t,e,i){var n="",s;return t&&(s=this.match(t),s&&(n+=s[0])),e&&(s||!t)&&(n+=this.readUntil(e,i)),n};Q.prototype.readUntil=function(t,e){var i="",n=this.__position;t.lastIndex=this.__position;var s=t.exec(this.__input);return s?(n=s.index,e&&(n+=s[0].length)):n=this.__input_length,i=this.__input.substring(this.__position,n),this.__position=n,i};Q.prototype.readUntilAfter=function(t){return this.readUntil(t,!0)};Q.prototype.get_regexp=function(t,e){var i=null,n="g";return e&&Ls&&(n="y"),typeof t=="string"&&t!==""?i=new RegExp(t,n):t&&(i=new RegExp(t.source,n)),i};Q.prototype.get_literal_regexp=function(t){return RegExp(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};Q.prototype.peekUntilAfter=function(t){var e=this.__position,i=this.readUntilAfter(t);return this.__position=e,i};Q.prototype.lookBack=function(t){var e=this.__position-1;return e>=t.length&&this.__input.substring(e-t.length,e).toLowerCase()===t};Ye.InputScanner=Q;var Zt={},Ps={};function Ct(t){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=t}Ct.prototype.restart=function(){this.__position=0};Ct.prototype.isEmpty=function(){return this.__tokens_length===0};Ct.prototype.hasNext=function(){return this.__position<this.__tokens_length};Ct.prototype.next=function(){var t=null;return this.hasNext()&&(t=this.__tokens[this.__position],this.__position+=1),t};Ct.prototype.peek=function(t){var e=null;return t=t||0,t+=this.__position,t>=0&&t<this.__tokens_length&&(e=this.__tokens[t]),e};Ct.prototype.add=function(t){this.__parent_token&&(t.parent=this.__parent_token),this.__tokens.push(t),this.__tokens_length+=1};Ps.TokenStream=Ct;var Bs={},be={};function ft(t,e){this._input=t,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,e&&(this._starting_pattern=this._input.get_regexp(e._starting_pattern,!0),this._match_pattern=this._input.get_regexp(e._match_pattern,!0),this._until_pattern=this._input.get_regexp(e._until_pattern),this._until_after=e._until_after)}ft.prototype.read=function(){var t=this._input.read(this._starting_pattern);return(!this._starting_pattern||t)&&(t+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),t};ft.prototype.read_match=function(){return this._input.match(this._match_pattern)};ft.prototype.until_after=function(t){var e=this._create();return e._until_after=!0,e._until_pattern=this._input.get_regexp(t),e._update(),e};ft.prototype.until=function(t){var e=this._create();return e._until_after=!1,e._until_pattern=this._input.get_regexp(t),e._update(),e};ft.prototype.starting_with=function(t){var e=this._create();return e._starting_pattern=this._input.get_regexp(t,!0),e._update(),e};ft.prototype.matching=function(t){var e=this._create();return e._match_pattern=this._input.get_regexp(t,!0),e._update(),e};ft.prototype._create=function(){return new ft(this._input,this)};ft.prototype._update=function(){};be.Pattern=ft;var Ds=be.Pattern;function xt(t,e){Ds.call(this,t,e),e?this._line_regexp=this._input.get_regexp(e._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}xt.prototype=new Ds;xt.prototype.__set_whitespace_patterns=function(t,e){t+="\\t ",e+="\\n\\r",this._match_pattern=this._input.get_regexp("["+t+e+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+e+"]")};xt.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var t=this._input.read(this._match_pattern);if(t===" ")this.whitespace_before_token=" ";else if(t){var e=this.__split(this._newline_regexp,t);this.newline_count=e.length-1,this.whitespace_before_token=e[this.newline_count]}return t};xt.prototype.matching=function(t,e){var i=this._create();return i.__set_whitespace_patterns(t,e),i._update(),i};xt.prototype._create=function(){return new xt(this._input,this)};xt.prototype.__split=function(t,e){t.lastIndex=0;for(var i=0,n=[],s=t.exec(e);s;)n.push(e.substring(i,s.index)),i=s.index+s[0].length,s=t.exec(e);return i<e.length?n.push(e.substring(i,e.length)):n.push(""),n};Bs.WhitespacePattern=xt;var ru=Ye.InputScanner,js=an.Token,ln=Ps.TokenStream,au=Bs.WhitespacePattern,ve={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},pt=function(t,e){this._input=new ru(t),this._options=e||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new au(this._input)};pt.prototype.tokenize=function(){this._input.restart(),this.__tokens=new ln,this._reset();for(var t,e=new js(ve.START,""),i=null,n=[],s=new ln;e.type!==ve.EOF;){for(t=this._get_next_token(e,i);this._is_comment(t);)s.add(t),t=this._get_next_token(e,i);s.isEmpty()||(t.comments_before=s,s=new ln),t.parent=i,this._is_opening(t)?(n.push(i),i=t):i&&this._is_closing(t,i)&&(t.opened=i,i.closed=t,i=n.pop(),t.parent=i),t.previous=e,e.next=t,this.__tokens.add(t),e=t}return this.__tokens};pt.prototype._is_first_token=function(){return this.__tokens.isEmpty()};pt.prototype._reset=function(){};pt.prototype._get_next_token=function(t,e){this._readWhitespace();var i=this._input.read(/.+/g);return i?this._create_token(ve.RAW,i):this._create_token(ve.EOF,"")};pt.prototype._is_comment=function(t){return!1};pt.prototype._is_opening=function(t){return!1};pt.prototype._is_closing=function(t,e){return!1};pt.prototype._create_token=function(t,e){var i=new js(t,e,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return i};pt.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};Zt.Tokenizer=pt;Zt.TOKEN=ve;var Je={};function _n(t,e){t=typeof t=="string"?t:t.source,e=typeof e=="string"?e:e.source,this.__directives_block_pattern=new RegExp(t+/ beautify( \w+[:]\w+)+ /.source+e,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(t+/\sbeautify\signore:end\s/.source+e,"g")}_n.prototype.get_directives=function(t){if(!t.match(this.__directives_block_pattern))return null;var e={};this.__directive_pattern.lastIndex=0;for(var i=this.__directive_pattern.exec(t);i;)e[i[1]]=i[2],i=this.__directive_pattern.exec(t);return e};_n.prototype.readIgnored=function(t){return t.readUntilAfter(this.__directives_end_ignore_pattern)};Je.Directives=_n;var hn={},cn=be.Pattern,fn={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function ht(t,e){cn.call(this,t,e),this.__template_pattern=null,this._disabled=Object.assign({},fn),this._excluded=Object.assign({},fn),e&&(this.__template_pattern=this._input.get_regexp(e.__template_pattern),this._excluded=Object.assign(this._excluded,e._excluded),this._disabled=Object.assign(this._disabled,e._disabled));var i=new cn(t);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}ht.prototype=new cn;ht.prototype._create=function(){return new ht(this._input,this)};ht.prototype._update=function(){this.__set_templated_pattern()};ht.prototype.disable=function(t){var e=this._create();return e._disabled[t]=!0,e._update(),e};ht.prototype.read_options=function(t){var e=this._create();for(var i in fn)e._disabled[i]=t.templating.indexOf(i)===-1;return e._update(),e};ht.prototype.exclude=function(t){var e=this._create();return e._excluded[t]=!0,e._update(),e};ht.prototype.read=function(){var t="";this._match_pattern?t=this._input.read(this._starting_pattern):t=this._input.read(this._starting_pattern,this.__template_pattern);for(var e=this._read_template();e;)this._match_pattern?e+=this._input.read(this._match_pattern):e+=this._input.readUntil(this.__template_pattern),t+=e,e=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};ht.prototype.__set_templated_pattern=function(){var t=[];this._disabled.php||t.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||t.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||t.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(t.push(this.__patterns.django._starting_pattern.source),t.push(this.__patterns.django_value._starting_pattern.source),t.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||t.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&t.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+t.join("|")+")")};ht.prototype._read_template=function(){var t="",e=this._input.peek();if(e==="<"){var i=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&i==="?"&&(t=t||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&i==="%"&&(t=t||this.__patterns.erb.read())}else e==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(t=t||this.__patterns.handlebars_comment.read(),t=t||this.__patterns.handlebars_unescaped.read(),t=t||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(t=t||this.__patterns.django_value.read()),this._excluded.django||(t=t||this.__patterns.django_comment.read(),t=t||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(t=t||this.__patterns.smarty_comment.read(),t=t||this.__patterns.smarty_literal.read(),t=t||this.__patterns.smarty.read()));return t};hn.TemplatablePattern=ht;var ou=Ye.InputScanner,Is=Zt.Tokenizer,pn=Zt.TOKEN,uu=Je.Directives,nt=on,lu=be.Pattern,_u=hn.TemplatablePattern;function dn(t,e){return e.indexOf(t)!==-1}var w={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:pn.START,RAW:pn.RAW,EOF:pn.EOF},$s=new uu(/\/\*/,/\*\//),hu=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,cu=/[0-9]/,fu=/[^\d\.]/,pu=">>> === !== << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Nt=">>>= ... >>= <<= === >>> !== **= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Nt=Nt.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");Nt="\\?\\.(?!\\d) "+Nt;Nt=Nt.replace(/ /g,"|");var du=new RegExp(Nt),Ks="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),gu=Ks.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as"]),mu=new RegExp("^(?:"+gu.join("|")+")$"),Ze,Y=function(t,e){Is.call(this,t,e),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var i=new lu(this._input),n=new _u(this._input).read_options(this._options);this.__patterns={template:n,identifier:n.starting_with(nt.identifier).matching(nt.identifierMatch),number:i.matching(hu),punct:i.matching(du),comment:i.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:i.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:i.matching(/<!--/),html_comment_end:i.matching(/-->/),include:i.starting_with(/#include/).until_after(nt.lineBreak),shebang:i.starting_with(/#!/).until_after(nt.lineBreak),xml:i.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[\s\S]+?}|!\[CDATA\[[\s\S]*?\]\]|)(\s+{[\s\S]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{[\s\S]+?}))*\s*(\/?)\s*>/),single_quote:n.until(/['\\\n\r\u2028\u2029]/),double_quote:n.until(/["\\\n\r\u2028\u2029]/),template_text:n.until(/[`\\$]/),template_expression:n.until(/[`}\\]/)}};Y.prototype=new Is;Y.prototype._is_comment=function(t){return t.type===w.COMMENT||t.type===w.BLOCK_COMMENT||t.type===w.UNKNOWN};Y.prototype._is_opening=function(t){return t.type===w.START_BLOCK||t.type===w.START_EXPR};Y.prototype._is_closing=function(t,e){return(t.type===w.END_BLOCK||t.type===w.END_EXPR)&&e&&(t.text==="]"&&e.text==="["||t.text===")"&&e.text==="("||t.text==="}"&&e.text==="{")};Y.prototype._reset=function(){Ze=!1};Y.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var n=this._input.peek();return n===null?this._create_token(w.EOF,""):(i=i||this._read_non_javascript(n),i=i||this._read_string(n),i=i||this._read_word(t),i=i||this._read_singles(n),i=i||this._read_comment(n),i=i||this._read_regexp(n,t),i=i||this._read_xml(n,t),i=i||this._read_punctuation(),i=i||this._create_token(w.UNKNOWN,this._input.next()),i)};Y.prototype._read_word=function(t){var e;if(e=this.__patterns.identifier.read(),e!=="")return e=e.replace(nt.allLineBreaks,`
`),!(t.type===w.DOT||t.type===w.RESERVED&&(t.text==="set"||t.text==="get"))&&mu.test(e)?e==="in"||e==="of"?this._create_token(w.OPERATOR,e):this._create_token(w.RESERVED,e):this._create_token(w.WORD,e);if(e=this.__patterns.number.read(),e!=="")return this._create_token(w.WORD,e)};Y.prototype._read_singles=function(t){var e=null;return t==="("||t==="["?e=this._create_token(w.START_EXPR,t):t===")"||t==="]"?e=this._create_token(w.END_EXPR,t):t==="{"?e=this._create_token(w.START_BLOCK,t):t==="}"?e=this._create_token(w.END_BLOCK,t):t===";"?e=this._create_token(w.SEMICOLON,t):t==="."&&fu.test(this._input.peek(1))?e=this._create_token(w.DOT,t):t===","&&(e=this._create_token(w.COMMA,t)),e&&this._input.next(),e};Y.prototype._read_punctuation=function(){var t=this.__patterns.punct.read();if(t!=="")return t==="="?this._create_token(w.EQUALS,t):t==="?."?this._create_token(w.DOT,t):this._create_token(w.OPERATOR,t)};Y.prototype._read_non_javascript=function(t){var e="";if(t==="#"){if(this._is_first_token()&&(e=this.__patterns.shebang.read(),e))return this._create_token(w.UNKNOWN,e.trim()+`
`);if(e=this.__patterns.include.read(),e)return this._create_token(w.UNKNOWN,e.trim()+`
`);t=this._input.next();var i="#";if(this._input.hasNext()&&this._input.testChar(cu)){do t=this._input.next(),i+=t;while(this._input.hasNext()&&t!=="#"&&t!=="=");return t==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(i+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(i+="{}",this._input.next(),this._input.next())),this._create_token(w.WORD,i)}this._input.back()}else if(t==="<"&&this._is_first_token()){if(e=this.__patterns.html_comment_start.read(),e){for(;this._input.hasNext()&&!this._input.testChar(nt.newline);)e+=this._input.next();return Ze=!0,this._create_token(w.COMMENT,e)}}else if(Ze&&t==="-"&&(e=this.__patterns.html_comment_end.read(),e))return Ze=!1,this._create_token(w.COMMENT,e);return null};Y.prototype._read_comment=function(t){var e=null;if(t==="/"){var i="";if(this._input.peek(1)==="*"){i=this.__patterns.block_comment.read();var n=$s.get_directives(i);n&&n.ignore==="start"&&(i+=$s.readIgnored(this._input)),i=i.replace(nt.allLineBreaks,`
`),e=this._create_token(w.BLOCK_COMMENT,i),e.directives=n}else this._input.peek(1)==="/"&&(i=this.__patterns.comment.read(),e=this._create_token(w.COMMENT,i))}return e};Y.prototype._read_string=function(t){if(t==="`"||t==="'"||t==='"'){var e=this._input.next();return this.has_char_escapes=!1,t==="`"?e+=this._read_string_recursive("`",!0,"${"):e+=this._read_string_recursive(t),this.has_char_escapes&&this._options.unescape_strings&&(e=bu(e)),this._input.peek()===t&&(e+=this._input.next()),e=e.replace(nt.allLineBreaks,`
`),this._create_token(w.STRING,e)}return null};Y.prototype._allow_regexp_or_xml=function(t){return t.type===w.RESERVED&&dn(t.text,["return","case","throw","else","do","typeof","yield"])||t.type===w.END_EXPR&&t.text===")"&&t.opened.previous.type===w.RESERVED&&dn(t.opened.previous.text,["if","while","for"])||dn(t.type,[w.COMMENT,w.START_EXPR,w.START_BLOCK,w.START,w.END_BLOCK,w.OPERATOR,w.EQUALS,w.EOF,w.SEMICOLON,w.COMMA])};Y.prototype._read_regexp=function(t,e){if(t==="/"&&this._allow_regexp_or_xml(e)){for(var i=this._input.next(),n=!1,s=!1;this._input.hasNext()&&(n||s||this._input.peek()!==t)&&!this._input.testChar(nt.newline);)i+=this._input.peek(),n?n=!1:(n=this._input.peek()==="\\",this._input.peek()==="["?s=!0:this._input.peek()==="]"&&(s=!1)),this._input.next();return this._input.peek()===t&&(i+=this._input.next(),i+=this._input.read(nt.identifier)),this._create_token(w.STRING,i)}return null};Y.prototype._read_xml=function(t,e){if(this._options.e4x&&t==="<"&&this._allow_regexp_or_xml(e)){var i="",n=this.__patterns.xml.read_match();if(n){for(var s=n[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),r=s.indexOf("{")===0,o=0;n;){var u=!!n[1],h=n[2],p=!!n[n.length-1]||h.slice(0,8)==="![CDATA[";if(!p&&(h===s||r&&h.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(u?--o:++o),i+=n[0],o<=0)break;n=this.__patterns.xml.read_match()}return n||(i+=this._input.match(/[\s\S]*/g)[0]),i=i.replace(nt.allLineBreaks,`
`),this._create_token(w.STRING,i)}}return null};function bu(t){for(var e="",i=0,n=new ou(t),s=null;n.hasNext();)if(s=n.match(/([\s]|[^\\]|\\\\)+/g),s&&(e+=s[0]),n.peek()==="\\"){if(n.next(),n.peek()==="x")s=n.match(/x([0-9A-Fa-f]{2})/g);else if(n.peek()==="u")s=n.match(/u([0-9A-Fa-f]{4})/g);else{e+="\\",n.hasNext()&&(e+=n.next());continue}if(!s||(i=parseInt(s[1],16),i>126&&i<=255&&s[0].indexOf("x")===0))return t;if(i>=0&&i<32){e+="\\"+s[0];continue}else i===34||i===39||i===92?e+="\\"+String.fromCharCode(i):e+=String.fromCharCode(i)}return e}Y.prototype._read_string_recursive=function(t,e,i){var n,s;t==="'"?s=this.__patterns.single_quote:t==='"'?s=this.__patterns.double_quote:t==="`"?s=this.__patterns.template_text:t==="}"&&(s=this.__patterns.template_expression);for(var r=s.read(),o="";this._input.hasNext();){if(o=this._input.next(),o===t||!e&&nt.newline.test(o)){this._input.back();break}else o==="\\"&&this._input.hasNext()?(n=this._input.peek(),n==="x"||n==="u"?this.has_char_escapes=!0:n==="\r"&&this._input.peek(1)===`
`&&this._input.next(),o+=this._input.next()):i&&(i==="${"&&o==="$"&&this._input.peek()==="{"&&(o+=this._input.next()),i===o&&(t==="`"?o+=this._read_string_recursive("}",e,"`"):o+=this._read_string_recursive("`",e,"${"),this._input.hasNext()&&(o+=this._input.next())));o+=s.read(),r+=o}return r};wt.Tokenizer=Y;wt.TOKEN=w;wt.positionable_operators=pu.slice();wt.line_starters=Ks.slice();var vu=Qe.Output,yu=an.Token,ti=on,wu=un.Options,xu=wt.Tokenizer,ye=wt.line_starters,we=wt.positionable_operators,l=wt.TOKEN;function S(t,e){return e.indexOf(t)!==-1}function Eu(t){return t.replace(/^\s+/g,"")}function Ou(t){for(var e={},i=0;i<t.length;i++)e[t[i].replace(/-/g,"_")]=t[i];return e}function st(t,e){return t&&t.type===l.RESERVED&&t.text===e}function D(t,e){return t&&t.type===l.RESERVED&&S(t.text,e)}var ei=["case","return","do","if","throw","else","await","break","continue","async"],Au=["before-newline","after-newline","preserve-newline"],xe=Ou(Au),Fs=[xe.before_newline,xe.preserve_newline],x={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function zs(t,e){e.multiline_frame||e.mode===x.ForInitializer||e.mode===x.Conditional||t.remove_indent(e.start_line_index)}function Tu(t){t=t.replace(ti.allLineBreaks,`
`);for(var e=[],i=t.indexOf(`
`);i!==-1;)e.push(t.substring(0,i)),t=t.substring(i+1),i=t.indexOf(`
`);return t.length&&e.push(t),e}function Et(t){return t===x.ArrayLiteral}function Ee(t){return S(t,[x.Expression,x.ForInitializer,x.Conditional])}function Su(t,e){for(var i=0;i<t.length;i++){var n=t[i].trim();if(n.charAt(0)!==e)return!1}return!0}function ku(t,e){for(var i=0,n=t.length,s;i<n;i++)if(s=t[i],s&&s.indexOf(e)!==0)return!1;return!0}function N(t,e){e=e||{},this._source_text=t||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new wu(e)}N.prototype.create_flags=function(t,e){var i=0;t&&(i=t.indentation_level,!this._output.just_added_newline()&&t.line_indent_level>i&&(i=t.line_indent_level));var n={mode:e,parent:t,last_token:t?t.last_token:new yu(l.START_BLOCK,""),last_word:t?t.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:i,alignment:0,line_indent_level:t?t.line_indent_level:i,start_line_index:this._output.get_line_number(),ternary_depth:0};return n};N.prototype._reset=function(t){var e=t.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new vu(this._options,e),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(x.BlockStatement);var i=new xu(t,this._options);return this._tokens=i.tokenize(),t};N.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t,e=this._reset(this._source_text),i=this._options.eol;this._options.eol==="auto"&&(i=`
`,e&&ti.lineBreak.test(e||"")&&(i=e.match(ti.lineBreak)[0]));for(var n=this._tokens.next();n;)this.handle_token(n),this._last_last_text=this._flags.last_token.text,this._flags.last_token=n,n=this._tokens.next();return t=this._output.get_code(i),t};N.prototype.handle_token=function(t,e){t.type===l.START_EXPR?this.handle_start_expr(t):t.type===l.END_EXPR?this.handle_end_expr(t):t.type===l.START_BLOCK?this.handle_start_block(t):t.type===l.END_BLOCK?this.handle_end_block(t):t.type===l.WORD?this.handle_word(t):t.type===l.RESERVED?this.handle_word(t):t.type===l.SEMICOLON?this.handle_semicolon(t):t.type===l.STRING?this.handle_string(t):t.type===l.EQUALS?this.handle_equals(t):t.type===l.OPERATOR?this.handle_operator(t):t.type===l.COMMA?this.handle_comma(t):t.type===l.BLOCK_COMMENT?this.handle_block_comment(t,e):t.type===l.COMMENT?this.handle_comment(t,e):t.type===l.DOT?this.handle_dot(t):t.type===l.EOF?this.handle_eof(t):t.type===l.UNKNOWN?this.handle_unknown(t,e):this.handle_unknown(t,e)};N.prototype.handle_whitespace_and_comments=function(t,e){var i=t.newlines,n=this._options.keep_array_indentation&&Et(this._flags.mode);if(t.comments_before)for(var s=t.comments_before.next();s;)this.handle_whitespace_and_comments(s,e),this.handle_token(s,e),s=t.comments_before.next();if(n)for(var r=0;r<i;r+=1)this.print_newline(r>0,e);else if(this._options.max_preserve_newlines&&i>this._options.max_preserve_newlines&&(i=this._options.max_preserve_newlines),this._options.preserve_newlines&&i>1){this.print_newline(!1,e);for(var o=1;o<i;o+=1)this.print_newline(!0,e)}};var gn=["async","break","continue","return","throw","yield"];N.prototype.allow_wrap_or_preserved_newline=function(t,e){if(e=e===void 0?!1:e,!this._output.just_added_newline()){var i=this._options.preserve_newlines&&t.newlines||e,n=S(this._flags.last_token.text,we)||S(t.text,we);if(n){var s=S(this._flags.last_token.text,we)&&S(this._options.operator_position,Fs)||S(t.text,we);i=i&&s}if(i)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(D(this._flags.last_token,gn))return;this._output.set_wrap_point()}}};N.prototype.print_newline=function(t,e){if(!e&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var i=this._tokens.peek();this._flags.mode===x.Statement&&!(this._flags.if_block&&st(i,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(t)&&(this._flags.multiline_frame=!0)};N.prototype.print_token_line_indentation=function(t){this._output.just_added_newline()&&(this._options.keep_array_indentation&&t.newlines&&(t.text==="["||Et(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(t.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))};N.prototype.print_token=function(t){if(this._output.raw){this._output.add_raw_token(t);return}if(this._options.comma_first&&t.previous&&t.previous.type===l.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var e=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(e),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(t),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(t),this._output.non_breaking_space=!0,this._output.add_token(t.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)};N.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};N.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};N.prototype.set_mode=function(t){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,t),this._flags=this.create_flags(this._previous_flags,t),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)};N.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===x.Statement&&zs(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))};N.prototype.start_of_object_property=function(){return this._flags.parent.mode===x.ObjectLiteral&&this._flags.mode===x.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"]))};N.prototype.start_of_statement=function(t){var e=!1;return e=e||D(this._flags.last_token,["var","let","const"])&&t.type===l.WORD,e=e||st(this._flags.last_token,"do"),e=e||!(this._flags.parent.mode===x.ObjectLiteral&&this._flags.mode===x.Statement)&&D(this._flags.last_token,gn)&&!t.newlines,e=e||st(this._flags.last_token,"else")&&!(st(t,"if")&&!t.comments_before),e=e||this._flags.last_token.type===l.END_EXPR&&(this._previous_flags.mode===x.ForInitializer||this._previous_flags.mode===x.Conditional),e=e||this._flags.last_token.type===l.WORD&&this._flags.mode===x.BlockStatement&&!this._flags.in_case&&!(t.text==="--"||t.text==="++")&&this._last_last_text!=="function"&&t.type!==l.WORD&&t.type!==l.RESERVED,e=e||this._flags.mode===x.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||D(this._flags.last_token,["get","set"])),e?(this.set_mode(x.Statement),this.indent(),this.handle_whitespace_and_comments(t,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t,D(t,["do","for","if","while"])),!0):!1};N.prototype.handle_start_expr=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t);var e=x.Expression;if(t.text==="["){if(this._flags.last_token.type===l.WORD||this._flags.last_token.text===")"){D(this._flags.last_token,ye)&&(this._output.space_before_token=!0),this.print_token(t),this.set_mode(e),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}e=x.ArrayLiteral,Et(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),S(this._flags.last_token.type,[l.START_EXPR,l.END_EXPR,l.WORD,l.OPERATOR,l.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===l.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,e=x.ForInitializer):S(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,e=x.Conditional):S(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&t.whitespace_before===""?this._output.space_before_token=!1:(S(this._flags.last_token.text,ye)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t);else if(this._flags.last_token.type===l.WORD){this._output.space_before_token=!1;var i=this._tokens.peek(-3);if(this._options.space_after_named_function&&i){var n=this._tokens.peek(-4);D(i,["async","function"])||i.text==="*"&&D(n,["async","function"])?this._output.space_before_token=!0:this._flags.mode===x.ObjectLiteral&&(i.text==="{"||i.text===","||i.text==="*"&&(n.text==="{"||n.text===","))&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(t);(this._flags.last_token.type===l.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(S(this._last_last_text,["function","yield"])||this._flags.mode===x.ObjectLiteral&&S(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===l.START_BLOCK?this.print_newline():(this._flags.last_token.type===l.END_EXPR||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===l.COMMA)&&this.allow_wrap_or_preserved_newline(t,t.newlines),this.print_token(t),this.set_mode(e),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()};N.prototype.handle_end_expr=function(t){for(;this._flags.mode===x.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(t,t.text==="]"&&Et(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===l.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(t),this.restore_mode(),zs(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===x.Conditional&&(this._previous_flags.mode=x.Expression,this._flags.do_block=!1,this._flags.do_while=!1)};N.prototype.handle_start_block=function(t){this.handle_whitespace_and_comments(t);var e=this._tokens.peek(),i=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===l.END_EXPR?(this.set_mode(x.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(x.BlockStatement):i&&(S(i.text,[":",","])&&S(e.type,[l.STRING,l.WORD,l.RESERVED])||S(e.text,["get","set","..."])&&S(i.type,[l.WORD,l.RESERVED]))?S(this._last_last_text,["class","interface"])?this.set_mode(x.BlockStatement):this.set_mode(x.ObjectLiteral):this._flags.last_token.type===l.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(x.BlockStatement):S(this._flags.last_token.type,[l.EQUALS,l.START_EXPR,l.COMMA,l.OPERATOR])||D(this._flags.last_token,["return","throw","import","default"])?this.set_mode(x.ObjectLiteral):this.set_mode(x.BlockStatement);var n=!e.comments_before&&e.text==="}",s=n&&this._flags.last_word==="function"&&this._flags.last_token.type===l.END_EXPR;if(this._options.brace_preserve_inline){var r=0,o=null;this._flags.inline_frame=!0;do if(r+=1,o=this._tokens.peek(r-1),o.newlines){this._flags.inline_frame=!1;break}while(o.type!==l.EOF&&!(o.type===l.END_BLOCK&&o.opened===t))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==l.OPERATOR&&(s||this._flags.last_token.type===l.EQUALS||D(this._flags.last_token,ei)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Et(this._previous_flags.mode)&&(this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.COMMA)&&((this._flags.last_token.type===l.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(t),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==l.OPERATOR&&this._flags.last_token.type!==l.START_EXPR&&(this._flags.last_token.type===l.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(t),this.indent(),!n&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()};N.prototype.handle_end_block=function(t){for(this.handle_whitespace_and_comments(t);this._flags.mode===x.Statement;)this.restore_mode();var e=this._flags.last_token.type===l.START_BLOCK;this._flags.inline_frame&&!e?this._output.space_before_token=!0:this._options.brace_style==="expand"?e||this.print_newline():e||(Et(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(t)};N.prototype.handle_word=function(t){if(t.type===l.RESERVED){if(S(t.text,["set","get"])&&this._flags.mode!==x.ObjectLiteral)t.type=l.WORD;else if(t.text==="import"&&this._tokens.peek().text==="(")t.type=l.WORD;else if(S(t.text,["as","from"])&&!this._flags.import_block)t.type=l.WORD;else if(this._flags.mode===x.ObjectLiteral){var e=this._tokens.peek();e.text===":"&&(t.type=l.WORD)}}if(this.start_of_statement(t)?D(this._flags.last_token,["var","let","const"])&&t.type===l.WORD&&(this._flags.declaration_statement=!0):t.newlines&&!Ee(this._flags.mode)&&(this._flags.last_token.type!==l.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==l.EQUALS&&(this._options.preserve_newlines||!D(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(t),this.print_newline()):this.handle_whitespace_and_comments(t),this._flags.do_block&&!this._flags.do_while)if(st(t,"while")){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&st(t,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===x.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&D(t,["case","default"])){this.print_newline(),this._flags.last_token.type!==l.END_BLOCK&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(t),this._flags.in_case=!0;return}if((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t)),st(t,"function")){(S(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(S(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===l.OPERATOR))&&!this._output.just_added_blankline()&&!t.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD?D(this._flags.last_token,["get","set","new","export"])||D(this._flags.last_token,gn)?this._output.space_before_token=!0:st(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===l.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(Ee(this._flags.mode)||Et(this._flags.mode))||this.print_newline(),this.print_token(t),this._flags.last_word=t.text;return}var i="NONE";if(this._flags.last_token.type===l.END_BLOCK?this._previous_flags.inline_frame?i="SPACE":D(t,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines?i="NEWLINE":(i="SPACE",this._output.space_before_token=!0):i="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&this._flags.mode===x.BlockStatement?i="NEWLINE":this._flags.last_token.type===l.SEMICOLON&&Ee(this._flags.mode)?i="SPACE":this._flags.last_token.type===l.STRING?i="NEWLINE":this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.last_token.text==="*"&&(S(this._last_last_text,["function","yield"])||this._flags.mode===x.ObjectLiteral&&S(this._last_last_text,["{",","]))?i="SPACE":this._flags.last_token.type===l.START_BLOCK?this._flags.inline_frame?i="SPACE":i="NEWLINE":this._flags.last_token.type===l.END_EXPR&&(this._output.space_before_token=!0,i="NEWLINE"),D(t,ye)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?i="SPACE":i="NEWLINE"),D(t,["else","catch","finally"]))if((!(this._flags.last_token.type===l.END_BLOCK&&this._previous_flags.mode===x.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&t.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var n=this._output.current_line;n.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else i==="NEWLINE"?D(this._flags.last_token,ei)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&D(t,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==l.END_EXPR?(this._flags.last_token.type!==l.START_EXPR||!D(t,["var","let","const"]))&&this._flags.last_token.text!==":"&&(st(t,"if")&&st(t.previous,"else")?this._output.space_before_token=!0:this.print_newline()):D(t,ye)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Et(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():i==="SPACE"&&(this._output.space_before_token=!0);t.previous&&(t.previous.type===l.WORD||t.previous.type===l.RESERVED)&&(this._output.space_before_token=!0),this.print_token(t),this._flags.last_word=t.text,t.type===l.RESERVED&&(t.text==="do"?this._flags.do_block=!0:t.text==="if"?this._flags.if_block=!0:t.text==="import"?this._flags.import_block=!0:this._flags.import_block&&st(t,"from")&&(this._flags.import_block=!1))};N.prototype.handle_semicolon=function(t){this.start_of_statement(t)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(t);for(var e=this._tokens.peek();this._flags.mode===x.Statement&&!(this._flags.if_block&&st(e,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(t)};N.prototype.handle_string=function(t){t.text.startsWith("`")&&t.newlines===0&&t.whitespace_before===""&&(t.previous.text===")"||this._flags.last_token.type===l.WORD)||(this.start_of_statement(t)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(t),this._flags.last_token.type===l.RESERVED||this._flags.last_token.type===l.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR||this._flags.last_token.type===l.EQUALS||this._flags.last_token.type===l.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(t):t.text.startsWith("`")&&this._flags.last_token.type===l.END_EXPR&&(t.previous.text==="]"||t.previous.text===")")&&t.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(t)};N.prototype.handle_equals=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0};N.prototype.handle_comma=function(t){this.handle_whitespace_and_comments(t,!0),this.print_token(t),this._output.space_before_token=!0,this._flags.declaration_statement?(Ee(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)):this._flags.mode===x.ObjectLiteral||this._flags.mode===x.Statement&&this._flags.parent.mode===x.ObjectLiteral?(this._flags.mode===x.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(t)};N.prototype.handle_operator=function(t){var e=t.text==="*"&&(D(this._flags.last_token,["function","yield"])||S(this._flags.last_token.type,[l.START_BLOCK,l.COMMA,l.END_BLOCK,l.SEMICOLON])),i=S(t.text,["-","+"])&&(S(this._flags.last_token.type,[l.START_BLOCK,l.START_EXPR,l.EQUALS,l.OPERATOR])||S(this._flags.last_token.text,ye)||this._flags.last_token.text===",");if(!this.start_of_statement(t)){var n=!e;this.handle_whitespace_and_comments(t,n)}if(D(this._flags.last_token,ei)){this._output.space_before_token=!0,this.print_token(t);return}if(t.text==="*"&&this._flags.last_token.type===l.DOT){this.print_token(t);return}if(t.text==="::"){this.print_token(t);return}if(this._flags.last_token.type===l.OPERATOR&&S(this._options.operator_position,Fs)&&this.allow_wrap_or_preserved_newline(t),t.text===":"&&this._flags.in_case){this.print_token(t),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==l.START_BLOCK?(this.indent(),this.print_newline()):this._output.space_before_token=!0;return}var s=!0,r=!0,o=!1;if(t.text===":"?this._flags.ternary_depth===0?s=!1:(this._flags.ternary_depth-=1,o=!0):t.text==="?"&&(this._flags.ternary_depth+=1),!i&&!e&&this._options.preserve_newlines&&S(t.text,we)){var u=t.text===":",h=u&&o,p=u&&!o;switch(this._options.operator_position){case xe.before_newline:this._output.space_before_token=!p,this.print_token(t),(!u||h)&&this.allow_wrap_or_preserved_newline(t),this._output.space_before_token=!0;return;case xe.after_newline:this._output.space_before_token=!0,!u||h?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(t):this._output.space_before_token=!1,this.print_token(t),this._output.space_before_token=!0;return;case xe.preserve_newline:p||this.allow_wrap_or_preserved_newline(t),s=!(this._output.just_added_newline()||p),this._output.space_before_token=s,this.print_token(t),this._output.space_before_token=!0;return}}if(e){this.allow_wrap_or_preserved_newline(t),s=!1;var v=this._tokens.peek();r=v&&S(v.type,[l.WORD,l.RESERVED])}else t.text==="..."?(this.allow_wrap_or_preserved_newline(t),s=this._flags.last_token.type===l.START_BLOCK,r=!1):(S(t.text,["--","++","!","~"])||i)&&((this._flags.last_token.type===l.COMMA||this._flags.last_token.type===l.START_EXPR)&&this.allow_wrap_or_preserved_newline(t),s=!1,r=!1,t.newlines&&(t.text==="--"||t.text==="++")&&this.print_newline(!1,!0),this._flags.last_token.text===";"&&Ee(this._flags.mode)&&(s=!0),this._flags.last_token.type===l.RESERVED?s=!0:this._flags.last_token.type===l.END_EXPR?s=!(this._flags.last_token.text==="]"&&(t.text==="--"||t.text==="++")):this._flags.last_token.type===l.OPERATOR&&(s=S(t.text,["--","-","++","+"])&&S(this._flags.last_token.text,["--","-","++","+"]),S(t.text,["+","-"])&&S(this._flags.last_token.text,["--","++"])&&(r=!0)),(this._flags.mode===x.BlockStatement&&!this._flags.inline_frame||this._flags.mode===x.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline());this._output.space_before_token=this._output.space_before_token||s,this.print_token(t),this._output.space_before_token=r};N.prototype.handle_block_comment=function(t,e){if(this._output.raw){this._output.add_raw_token(t),t.directives&&t.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(t.directives){this.print_newline(!1,e),this.print_token(t),t.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!ti.newline.test(t.text)&&!t.newlines){this._output.space_before_token=!0,this.print_token(t),this._output.space_before_token=!0;return}else this.print_block_commment(t,e)};N.prototype.print_block_commment=function(t,e){var i=Tu(t.text),n,s=!1,r=!1,o=t.whitespace_before,u=o.length;if(this.print_newline(!1,e),this.print_token_line_indentation(t),this._output.add_token(i[0]),this.print_newline(!1,e),i.length>1){for(i=i.slice(1),s=Su(i,"*"),r=ku(i,o),s&&(this._flags.alignment=1),n=0;n<i.length;n++)s?(this.print_token_line_indentation(t),this._output.add_token(Eu(i[n]))):r&&i[n]?(this.print_token_line_indentation(t),this._output.add_token(i[n].substring(u))):(this._output.current_line.set_indent(-1),this._output.add_token(i[n])),this.print_newline(!1,e);this._flags.alignment=0}};N.prototype.handle_comment=function(t,e){t.newlines?this.print_newline(!1,e):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(t),this.print_newline(!1,e)};N.prototype.handle_dot=function(t){this.start_of_statement(t)||this.handle_whitespace_and_comments(t,!0),D(this._flags.last_token,ei)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(t,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(t)};N.prototype.handle_unknown=function(t,e){this.print_token(t),t.text[t.text.length-1]===`
`&&this.print_newline(!1,e)};N.prototype.handle_eof=function(t){for(;this._flags.mode===x.Statement;)this.restore_mode();this.handle_whitespace_and_comments(t)};ks.Beautifier=N;var Ru=ks.Beautifier,Cu=un.Options;function Nu(t,e){var i=new Ru(t,e);return i.beautify()}rn.exports=Nu;rn.exports.defaultOptions=function(){return new Cu};var mn={exports:{}},Vs={},bn={},Us=Jt.Options;function Ws(t){Us.call(this,t,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var e=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||e;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var n=0;n<i.length;n++)i[n]!=="expand"?this.brace_style="collapse":this.brace_style=i[n]}Ws.prototype=new Us;bn.Options=Ws;var Mu=bn.Options,Lu=Qe.Output,Pu=Ye.InputScanner,Bu=Je.Directives,Gs=new Bu(/\/\*/,/\*\//),qs=/\r\n|[\r\n]/,Du=/\r\n|[\r\n]/g,ii=/\s/,ju=/(?:\s|\n)+/g,Iu=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,$u=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function gt(t,e){this._source_text=t||"",this._options=new Mu(e),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}gt.prototype.eatString=function(t){var e="";for(this._ch=this._input.next();this._ch;){if(e+=this._ch,this._ch==="\\")e+=this._input.next();else if(t.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return e};gt.prototype.eatWhitespace=function(t){for(var e=ii.test(this._input.peek()),i=0;ii.test(this._input.peek());)this._ch=this._input.next(),t&&this._ch===`
`&&(i===0||i<this._options.max_preserve_newlines)&&(i++,this._output.add_new_line(!0));return e};gt.prototype.foundNestedPseudoClass=function(){for(var t=0,e=1,i=this._input.peek(e);i;){if(i==="{")return!0;if(i==="(")t+=1;else if(i===")"){if(t===0)return!1;t-=1}else if(i===";"||i==="}")return!1;e++,i=this._input.peek(e)}return!1};gt.prototype.print_string=function(t){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(t)};gt.prototype.preserveSingleSpace=function(t){t&&(this._output.space_before_token=!0)};gt.prototype.indent=function(){this._indentLevel++};gt.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--};gt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;e==="auto"&&(e=`
`,t&&qs.test(t||"")&&(e=t.match(qs)[0])),t=t.replace(Du,`
`);var i=t.match(/^[\t ]*/)[0];this._output=new Lu(this._options,i),this._input=new Pu(t),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var n=0,s=!1,r=!1,o=!1,u=!1,h=!1,p=this._ch,v,O,P;v=this._input.read(ju),O=v!=="",P=p,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),p=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var j=this._input.read(Iu),q=Gs.get_directives(j);q&&q.ignore==="start"&&(j+=Gs.readIgnored(this._input)),this.print_string(j),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read($u)),this.eatWhitespace(!0);else if(this._ch==="@")if(this.preserveSingleSpace(O),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var $=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);$.match(/[ :]$/)&&($=this.eatString(": ").replace(/\s$/,""),this.print_string($),this._output.space_before_token=!0),$=$.replace(/\s$/,""),$==="extend"?u=!0:$==="import"&&(h=!0),$ in this.NESTED_AT_RULE?(this._nestedLevel+=1,$ in this.CONDITIONAL_GROUP_RULE&&(o=!0)):!s&&n===0&&$.indexOf(":")!==-1&&(r=!0,this.indent())}else this._ch==="#"&&this._input.peek()==="{"?(this.preserveSingleSpace(O),this.print_string(this._ch+this.eatString("}"))):this._ch==="{"?(r&&(r=!1,this.outdent()),o?(o=!1,s=this._indentLevel>=this._nestedLevel):s=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&s&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):this._ch==="}"?(this.outdent(),this._output.add_new_line(),P==="{"&&this._output.trim(!0),h=!1,u=!1,r&&(this.outdent(),r=!1),this.print_string(this._ch),s=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0)):this._ch===":"?(s||o)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!u&&n===0?(this.print_string(":"),r||(r=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):this._ch==='"'||this._ch==="'"?(this.preserveSingleSpace(O),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):this._ch===";"?n===0?(r&&(this.outdent(),r=!1),u=!1,h=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):this._ch==="("?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),n++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),n&&(n--,this.outdent()))):(this.preserveSingleSpace(O),this.print_string(this._ch),this.eatWhitespace(),n++,this.indent()):this._ch===")"?(n&&(n--,this.outdent()),this.print_string(this._ch)):this._ch===","?(this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&!r&&n===0&&!h&&!u?this._output.add_new_line():this._output.space_before_token=!0):(this._ch===">"||this._ch==="+"||this._ch==="~")&&!r&&n===0?this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&ii.test(this._ch)&&(this._ch="")):this._ch==="]"?this.print_string(this._ch):this._ch==="["?(this.preserveSingleSpace(O),this.print_string(this._ch)):this._ch==="="?(this.eatWhitespace(),this.print_string("="),ii.test(this._ch)&&(this._ch="")):this._ch==="!"&&!this._input.lookBack("\\")?(this.print_string(" "),this.print_string(this._ch)):(this.preserveSingleSpace(O),this.print_string(this._ch));var y=this._output.get_code(e);return y};Vs.Beautifier=gt;var Ku=Vs.Beautifier,Fu=bn.Options;function zu(t,e){var i=new Ku(t,e);return i.beautify()}mn.exports=zu;mn.exports.defaultOptions=function(){return new Fu};var vn={exports:{}},Xs={},yn={},Hs=Jt.Options;function Qs(t){Hs.call(this,t,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}Qs.prototype=new Hs;yn.Options=Qs;var ni={},Ys=Zt.Tokenizer,wn=Zt.TOKEN,Vu=Je.Directives,Uu=hn.TemplatablePattern,Wu=be.Pattern,z={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:wn.START,RAW:wn.RAW,EOF:wn.EOF},Js=new Vu(/<\!--/,/-->/),tt=function(t,e){Ys.call(this,t,e),this._current_tag_name="";var i=new Uu(this._input).read_options(this._options),n=new Wu(this._input);if(this.__patterns={word:i.until(/[\n\r\t <]/),single_quote:i.until_after(/'/),double_quote:i.until_after(/"/),attribute:i.until(/[\n\r\t =>]|\/>/),element_name:i.until(/[\n\r\t >\/]/),handlebars_comment:n.starting_with(/{{!--/).until_after(/--}}/),handlebars:n.starting_with(/{{/).until_after(/}}/),handlebars_open:n.until(/[\n\r\t }]/),handlebars_raw_close:n.until(/}}/),comment:n.starting_with(/<!--/).until_after(/-->/),cdata:n.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:n.starting_with(/<!\[/).until_after(/]>/),processing:n.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var s=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=n.matching(s).until_after(s)}};tt.prototype=new Ys;tt.prototype._is_comment=function(t){return!1};tt.prototype._is_opening=function(t){return t.type===z.TAG_OPEN};tt.prototype._is_closing=function(t,e){return t.type===z.TAG_CLOSE&&e&&((t.text===">"||t.text==="/>")&&e.text[0]==="<"||t.text==="}}"&&e.text[0]==="{"&&e.text[1]==="{")};tt.prototype._reset=function(){this._current_tag_name=""};tt.prototype._get_next_token=function(t,e){var i=null;this._readWhitespace();var n=this._input.peek();return n===null?this._create_token(z.EOF,""):(i=i||this._read_open_handlebars(n,e),i=i||this._read_attribute(n,t,e),i=i||this._read_close(n,e),i=i||this._read_raw_content(n,t,e),i=i||this._read_content_word(n),i=i||this._read_comment_or_cdata(n),i=i||this._read_processing(n),i=i||this._read_open(n,e),i=i||this._create_token(z.UNKNOWN,this._input.next()),i)};tt.prototype._read_comment_or_cdata=function(t){var e=null,i=null,n=null;if(t==="<"){var s=this._input.peek(1);s==="!"&&(i=this.__patterns.comment.read(),i?(n=Js.get_directives(i),n&&n.ignore==="start"&&(i+=Js.readIgnored(this._input))):i=this.__patterns.cdata.read()),i&&(e=this._create_token(z.COMMENT,i),e.directives=n)}return e};tt.prototype._read_processing=function(t){var e=null,i=null,n=null;if(t==="<"){var s=this._input.peek(1);(s==="!"||s==="?")&&(i=this.__patterns.conditional_comment.read(),i=i||this.__patterns.processing.read()),i&&(e=this._create_token(z.COMMENT,i),e.directives=n)}return e};tt.prototype._read_open=function(t,e){var i=null,n=null;return e||t==="<"&&(i=this._input.next(),this._input.peek()==="/"&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),n=this._create_token(z.TAG_OPEN,i)),n};tt.prototype._read_open_handlebars=function(t,e){var i=null,n=null;return e||this._options.indent_handlebars&&t==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(i=this.__patterns.handlebars_comment.read(),i=i||this.__patterns.handlebars.read(),n=this._create_token(z.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),n=this._create_token(z.TAG_OPEN,i))),n};tt.prototype._read_close=function(t,e){var i=null,n=null;return e&&(e.text[0]==="<"&&(t===">"||t==="/"&&this._input.peek(1)===">")?(i=this._input.next(),t==="/"&&(i+=this._input.next()),n=this._create_token(z.TAG_CLOSE,i)):e.text[0]==="{"&&t==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),n=this._create_token(z.TAG_CLOSE,"}}"))),n};tt.prototype._read_attribute=function(t,e,i){var n=null,s="";if(i&&i.text[0]==="<")if(t==="=")n=this._create_token(z.EQUALS,this._input.next());else if(t==='"'||t==="'"){var r=this._input.next();t==='"'?r+=this.__patterns.double_quote.read():r+=this.__patterns.single_quote.read(),n=this._create_token(z.VALUE,r)}else s=this.__patterns.attribute.read(),s&&(e.type===z.EQUALS?n=this._create_token(z.VALUE,s):n=this._create_token(z.ATTRIBUTE,s));return n};tt.prototype._is_content_unformatted=function(t){return this._options.void_elements.indexOf(t)===-1&&(this._options.content_unformatted.indexOf(t)!==-1||this._options.unformatted.indexOf(t)!==-1)};tt.prototype._read_raw_content=function(t,e,i){var n="";if(i&&i.text[0]==="{")n=this.__patterns.handlebars_raw_close.read();else if(e.type===z.TAG_CLOSE&&e.opened.text[0]==="<"&&e.text[0]!=="/"){var s=e.opened.text.substr(1).toLowerCase();if(s==="script"||s==="style"){var r=this._read_comment_or_cdata(t);if(r)return r.type=z.TEXT,r;n=this._input.readUntil(new RegExp("</"+s+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(s)&&(n=this._input.readUntil(new RegExp("</"+s+"[\\n\\r\\t ]*?>","ig")))}return n?this._create_token(z.TEXT,n):null};tt.prototype._read_content_word=function(t){var e="";if(this._options.unformatted_content_delimiter&&t===this._options.unformatted_content_delimiter[0]&&(e=this.__patterns.unformatted_content_delimiter.read()),e||(e=this.__patterns.word.read()),e)return this._create_token(z.TEXT,e)};ni.Tokenizer=tt;ni.TOKEN=z;var Gu=yn.Options,qu=Qe.Output,Xu=ni.Tokenizer,B=ni.TOKEN,Zs=/\r\n|[\r\n]/,Hu=/\r\n|[\r\n]/g,rt=function(t,e){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=t.max_preserve_newlines,this.preserve_newlines=t.preserve_newlines,this._output=new qu(t,e)};rt.prototype.current_line_has_match=function(t){return this._output.current_line.has_match(t)};rt.prototype.set_space_before_token=function(t,e){this._output.space_before_token=t,this._output.non_breaking_space=e};rt.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()};rt.prototype.add_raw_token=function(t){this._output.add_raw_token(t)};rt.prototype.print_preserved_newlines=function(t){var e=0;t.type!==B.TEXT&&t.previous.type!==B.TEXT&&(e=t.newlines?1:0),this.preserve_newlines&&(e=t.newlines<this.max_preserve_newlines+1?t.newlines:this.max_preserve_newlines+1);for(var i=0;i<e;i++)this.print_newline(i>0);return e!==0};rt.prototype.traverse_whitespace=function(t){return t.whitespace_before||t.newlines?(this.print_preserved_newlines(t)||(this._output.space_before_token=!0),!0):!1};rt.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};rt.prototype.print_newline=function(t){this._output.add_new_line(t)};rt.prototype.print_token=function(t){t.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(t.text))};rt.prototype.indent=function(){this.indent_level++};rt.prototype.get_full_indent=function(t){return t=this.indent_level+(t||0),t<1?"":this._output.get_indent_string(t)};var Qu=function(t){for(var e=null,i=t.next;i.type!==B.EOF&&t.closed!==i;){if(i.type===B.ATTRIBUTE&&i.text==="type"){i.next&&i.next.type===B.EQUALS&&i.next.next&&i.next.next.type===B.VALUE&&(e=i.next.next.text);break}i=i.next}return e},Yu=function(t,e){var i=null,n=null;return e.closed?(t==="script"?i="text/javascript":t==="style"&&(i="text/css"),i=Qu(e)||i,i.search("text/css")>-1?n="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?n="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?n="html":i.search(/test\/null/)>-1&&(n="null"),n):null};function Oe(t,e){return e.indexOf(t)!==-1}function Ju(t,e,i){this.parent=t||null,this.tag=e?e.tag_name:"",this.indent_level=i||0,this.parser_token=e||null}function Mt(t){this._printer=t,this._current_frame=null}Mt.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};Mt.prototype.record_tag=function(t){var e=new Ju(this._current_frame,t,this._printer.indent_level);this._current_frame=e};Mt.prototype._try_pop_frame=function(t){var e=null;return t&&(e=t.parser_token,this._printer.indent_level=t.indent_level,this._current_frame=t.parent),e};Mt.prototype._get_frame=function(t,e){for(var i=this._current_frame;i&&t.indexOf(i.tag)===-1;){if(e&&e.indexOf(i.tag)!==-1){i=null;break}i=i.parent}return i};Mt.prototype.try_pop=function(t,e){var i=this._get_frame([t],e);return this._try_pop_frame(i)};Mt.prototype.indent_to_tag=function(t){var e=this._get_frame(t);e&&(this._printer.indent_level=e.indent_level)};function at(t,e,i,n){this._source_text=t||"",e=e||{},this._js_beautify=i,this._css_beautify=n,this._tag_stack=null;var s=new Gu(e,"html");this._options=s,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,"force".length)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,"preserve".length)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}at.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var t=this._source_text,e=this._options.eol;this._options.eol==="auto"&&(e=`
`,t&&Zs.test(t)&&(e=t.match(Zs)[0])),t=t.replace(Hu,`
`);var i=t.match(/^[\t ]*/)[0],n={text:"",type:""},s=new tr,r=new rt(this._options,i),o=new Xu(t,this._options).tokenize();this._tag_stack=new Mt(r);for(var u=null,h=o.next();h.type!==B.EOF;)h.type===B.TAG_OPEN||h.type===B.COMMENT?(u=this._handle_tag_open(r,h,s,n),s=u):h.type===B.ATTRIBUTE||h.type===B.EQUALS||h.type===B.VALUE||h.type===B.TEXT&&!s.tag_complete?u=this._handle_inside_tag(r,h,s,o):h.type===B.TAG_CLOSE?u=this._handle_tag_close(r,h,s):h.type===B.TEXT?u=this._handle_text(r,h,s):r.add_raw_token(h),n=u,h=o.next();var p=r._output.get_code(e);return p};at.prototype._handle_tag_close=function(t,e,i){var n={text:e.text,type:e.type};return t.alignment_size=0,i.tag_complete=!0,t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted?t.add_raw_token(e):(i.tag_start_char==="<"&&(t.set_space_before_token(e.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&t.print_newline(!1)),t.print_token(e)),i.indent_content&&!(i.is_unformatted||i.is_content_unformatted)&&(t.indent(),i.indent_content=!1),!i.is_inline_element&&!(i.is_unformatted||i.is_content_unformatted)&&t.set_wrap_point(),n};at.prototype._handle_inside_tag=function(t,e,i,n){var s=i.has_wrapped_attrs,r={text:e.text,type:e.type};if(t.set_space_before_token(e.newlines||e.whitespace_before!=="",!0),i.is_unformatted)t.add_raw_token(e);else if(i.tag_start_char==="{"&&e.type===B.TEXT)t.print_preserved_newlines(e)?(e.newlines=0,t.add_raw_token(e)):t.print_token(e);else{if(e.type===B.ATTRIBUTE?(t.set_space_before_token(!0),i.attr_count+=1):(e.type===B.EQUALS||e.type===B.VALUE&&e.previous.type===B.EQUALS)&&t.set_space_before_token(!1),e.type===B.ATTRIBUTE&&i.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(t.traverse_whitespace(e),s=s||e.newlines!==0),this._is_wrap_attributes_force)){var o=i.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&i.attr_count===1){var u=!0,h=0,p;do{if(p=n.peek(h),p.type===B.ATTRIBUTE){u=!1;break}h+=1}while(h<4&&p.type!==B.EOF&&p.type!==B.TAG_CLOSE);o=!u}o&&(t.print_newline(!1),s=!0)}t.print_token(e),s=s||t.previous_token_wrapped(),i.has_wrapped_attrs=s}return r};at.prototype._handle_text=function(t,e,i){var n={text:e.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(t,e,i):i.is_unformatted||i.is_content_unformatted?t.add_raw_token(e):(t.traverse_whitespace(e),t.print_token(e)),n};at.prototype._print_custom_beatifier_text=function(t,e,i){var n=this;if(e.text!==""){var s=e.text,r,o=1,u="",h="";i.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?r=this._js_beautify:i.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?r=this._css_beautify:i.custom_beautifier_name==="html"&&(r=function(q,$){var y=new at(q,$,n._js_beautify,n._css_beautify);return y.beautify()}),this._options.indent_scripts==="keep"?o=0:this._options.indent_scripts==="separate"&&(o=-t.indent_level);var p=t.get_full_indent(o);if(s=s.replace(/\n[ \t]*$/,""),i.custom_beautifier_name!=="html"&&s[0]==="<"&&s.match(/^(<!--|<!\[CDATA\[)/)){var v=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(s);if(!v){t.add_raw_token(e);return}u=p+v[1]+`
`,s=v[4],v[5]&&(h=p+v[5]),s=s.replace(/\n[ \t]*$/,""),(v[2]||v[3].indexOf(`
`)!==-1)&&(v=v[3].match(/[ \t]+$/),v&&(e.whitespace_before=v[0]))}if(s)if(r){var O=function(){this.eol=`
`};O.prototype=this._options.raw_options;var P=new O;s=r(p+s,P)}else{var j=e.whitespace_before;j&&(s=s.replace(new RegExp(`
(`+j+")?","g"),`
`)),s=p+s.replace(/\n/g,`
`+p)}u&&(s?s=u+s+`
`+h:s=u+h),t.print_newline(!1),s&&(e.text=s,e.whitespace_before="",e.newlines=0,t.add_raw_token(e),t.print_newline(!0))}};at.prototype._handle_tag_open=function(t,e,i,n){var s=this._get_tag_open_token(e);return(i.is_unformatted||i.is_content_unformatted)&&!i.is_empty_element&&e.type===B.TAG_OPEN&&e.text.indexOf("</")===0?(t.add_raw_token(e),s.start_tag_token=this._tag_stack.try_pop(s.tag_name)):(t.traverse_whitespace(e),this._set_tag_position(t,e,s,i,n),s.is_inline_element||t.set_wrap_point(),t.print_token(e)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(s.alignment_size=e.text.length+1),!s.tag_complete&&!s.is_unformatted&&(t.alignment_size=s.alignment_size),s};var tr=function(t,e){if(this.parent=t||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!e)this.tag_complete=!0;else{var i;this.tag_start_char=e.text[0],this.text=e.text,this.tag_start_char==="<"?(i=e.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=e.text.match(/^{{(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"",e.text==="{{#>"&&this.tag_check===">"&&e.next!==null&&(this.tag_check=e.next.text)),this.tag_check=this.tag_check.toLowerCase(),e.type===B.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||e.closed&&e.closed.text==="/>",this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(2)))}};at.prototype._get_tag_open_token=function(t){var e=new tr(this._tag_stack.get_parser_token(),t);return e.alignment_size=this._options.wrap_attributes_indent_size,e.is_end_tag=e.is_end_tag||Oe(e.tag_check,this._options.void_elements),e.is_empty_element=e.tag_complete||e.is_start_tag&&e.is_end_tag,e.is_unformatted=!e.tag_complete&&Oe(e.tag_check,this._options.unformatted),e.is_content_unformatted=!e.is_empty_element&&Oe(e.tag_check,this._options.content_unformatted),e.is_inline_element=Oe(e.tag_name,this._options.inline)||e.tag_start_char==="{",e};at.prototype._set_tag_position=function(t,e,i,n,s){if(i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||t.print_newline(!1)),this._tag_stack.record_tag(i),(i.tag_name==="script"||i.tag_name==="style")&&!(i.is_unformatted||i.is_content_unformatted)&&(i.custom_beautifier_name=Yu(i.tag_check,e)))),Oe(i.tag_check,this._options.extra_liners)&&(t.print_newline(!1),t._output.just_added_blankline()||t.print_newline(!0)),i.is_empty_element){if(i.tag_start_char==="{"&&i.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0;var r=t.current_line_has_match(/{{#if/);r||t.print_newline(!1)}i.tag_name==="!--"&&s.type===B.TAG_CLOSE&&n.is_end_tag&&i.text.indexOf(`
`)===-1||(i.is_inline_element||i.is_unformatted||t.print_newline(!1),this._calcluate_parent_multiline(t,i))}else if(i.is_end_tag){var o=!1;o=i.start_tag_token&&i.start_tag_token.multiline_content,o=o||!i.is_inline_element&&!(n.is_inline_element||n.is_unformatted)&&!(s.type===B.TAG_CLOSE&&i.start_tag_token===n)&&s.type!=="TK_CONTENT",(i.is_content_unformatted||i.is_unformatted)&&(o=!1),o&&t.print_newline(!1)}else i.indent_content=!i.custom_beautifier_name,i.tag_start_char==="<"&&(i.tag_name==="html"?i.indent_content=this._options.indent_inner_html:i.tag_name==="head"?i.indent_content=this._options.indent_head_inner_html:i.tag_name==="body"&&(i.indent_content=this._options.indent_body_inner_html)),!(i.is_inline_element||i.is_unformatted)&&(s.type!=="TK_CONTENT"||i.is_content_unformatted)&&t.print_newline(!1),this._calcluate_parent_multiline(t,i)};at.prototype._calcluate_parent_multiline=function(t,e){e.parent&&t._output.just_added_newline()&&!((e.is_inline_element||e.is_unformatted)&&e.parent.is_inline_element)&&(e.parent.multiline_content=!0)};var Zu=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],tl=["a","audio","del","ins","map","noscript","video"];at.prototype._do_optional_end_element=function(t){var e=null;if(!(t.is_empty_element||!t.is_start_tag||!t.parent)){if(t.tag_name==="body")e=e||this._tag_stack.try_pop("head");else if(t.tag_name==="li")e=e||this._tag_stack.try_pop("li",["ol","ul"]);else if(t.tag_name==="dd"||t.tag_name==="dt")e=e||this._tag_stack.try_pop("dt",["dl"]),e=e||this._tag_stack.try_pop("dd",["dl"]);else if(t.parent.tag_name==="p"&&Zu.indexOf(t.tag_name)!==-1){var i=t.parent.parent;(!i||tl.indexOf(i.tag_name)===-1)&&(e=e||this._tag_stack.try_pop("p"))}else t.tag_name==="rp"||t.tag_name==="rt"?(e=e||this._tag_stack.try_pop("rt",["ruby","rtc"]),e=e||this._tag_stack.try_pop("rp",["ruby","rtc"])):t.tag_name==="optgroup"?e=e||this._tag_stack.try_pop("optgroup",["select"]):t.tag_name==="option"?e=e||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):t.tag_name==="colgroup"?e=e||this._tag_stack.try_pop("caption",["table"]):t.tag_name==="thead"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"])):t.tag_name==="tbody"||t.tag_name==="tfoot"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("thead",["table"]),e=e||this._tag_stack.try_pop("tbody",["table"])):t.tag_name==="tr"?(e=e||this._tag_stack.try_pop("caption",["table"]),e=e||this._tag_stack.try_pop("colgroup",["table"]),e=e||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(t.tag_name==="th"||t.tag_name==="td")&&(e=e||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),e=e||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return t.parent=this._tag_stack.get_parser_token(),e}};Xs.Beautifier=at;var el=Xs.Beautifier,il=yn.Options;function nl(t,e,i,n){var s=new el(t,e,i,n);return s.beautify()}vn.exports=nl;vn.exports.defaultOptions=function(){return new il};var er=rn.exports,ir=mn.exports,nr=vn.exports;function sr(t,e,i,n){return i=i||er,n=n||ir,nr(t,e,i,n)}sr.defaultOptions=nr.defaultOptions;He.js=er;He.css=ir;He.html=sr;(function(t){function e(i,n,s){var r=function(o,u){return i.js_beautify(o,u)};return r.js=i.js_beautify,r.css=n.css_beautify,r.html=s.html_beautify,r.js_beautify=i.js_beautify,r.css_beautify=n.css_beautify,r.html_beautify=s.html_beautify,r}(function(i){var n=He;n.js_beautify=n.js,n.css_beautify=n.css,n.html_beautify=n.html,i.exports=e(n,n,n)})(t)})(sn);var sl=sn.exports,ul=Object.freeze(dr({__proto__:null,[Symbol.toStringTag]:"Module",default:sl},[sn.exports]));export{Os as A,nn as C,sn as a,ul as j,al as m};
